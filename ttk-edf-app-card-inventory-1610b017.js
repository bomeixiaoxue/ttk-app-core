webpackJsonp([19,60],{"399":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function config(options){options&&(0,_extends3["default"])(_options,options)}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_webapi=__webpack_require__(1634),_webapi2=_interopRequireDefault(_webapi),_options={"webapi":_webapi2["default"]};config.current=_options,exports["default"]=config,module.exports=exports["default"]},"674":function(module,exports){"use strict";function getMeta(){return{"name":"root","component":"Layout","className":"ttk-edf-app-card-inventory","children":{"name":"form","component":"Form","className":"ttk-edf-app-card-inventory-form","children":[{"name":"propertyItem","component":"Form.Item","label":"\u5b58\u8d27\u53ca\u670d\u52a1\u5206\u7c7b","className":"ttk-edf-app-card-inventory-form-sort","required":!0,"validateStatus":"{{data.other.error.property?'error':'success'}}","help":"{{data.other.error.property}}","children":{"name":"property","component":"Select","showSearch":!1,"optionFilterProp":"children","value":"{{data.form.property&&JSON.stringify(data.form.property)}}","onChange":"{{$propertyChange}}","children":{"name":"selectItem","component":"Select.Option","value":"{{JSON.stringify(data.other.property[_rowIndex])}}","children":"{{data.other.property[_rowIndex].name}}","_power":"for in data.other.property"}}},{"name":"propertyDetailItem","component":"Form.Item","label":"\u660e\u7ec6\u5206\u7c7b","required":!0,"_visible":"{{data.isProperty}}","validateStatus":"{{data.other.error.propertyDetail?'error':'success'}}","help":"{{data.other.error.propertyDetail}}","children":{"name":"property","component":"Select","showSearch":!1,"optionFilterProp":"children","value":"{{data.form.propertyDetail&&JSON.stringify(data.form.propertyDetail)}}","onChange":"{{$propertyDetailChange}}","children":{"name":"selectItem","component":"Select.Option","value":"{{JSON.stringify(data.other.propertyDetailFilter[_rowIndex])}}","children":"{{data.other.propertyDetailFilter[_rowIndex].name}}","_power":"for in data.other.propertyDetailFilter"}}},{"name":"line","component":"Layout","className":"title","children":[{"name":"info","className":"info","component":"span","children":"\u5b58\u8d27\u4fe1\u606f"},{"name":"line","className":"line","component":"span","children":""}]},{"name":"codeItem","component":"Form.Item","label":"\u5b58\u8d27\u7f16\u7801","required":!0,"validateStatus":"{{data.other.error.code?'error':'success'}}","help":"{{data.other.error.code}}","children":{"name":"code","component":"Input","maxlength":"50","value":"{{data.form.code}}","onChange":"{{function(e){$sf('data.form.code',e.target.value);$changeCheck(1)}}}"}},{"name":"nameItem","component":"Form.Item","label":"\u5b58\u8d27\u540d\u79f0","required":!0,"validateStatus":"{{data.other.error.name?'error':'success'}}","help":"{{data.other.error.name}}","children":{"name":"name","component":"Input","maxlength":"20","value":"{{data.form.name}}","onChange":"{{function(e){$sf('data.form.name',e.target.value);$changeCheck()}}}"}},{"name":"sizeItem","component":"Form.Item","label":"\u89c4\u683c\u578b\u53f7","children":{"name":"specification","component":"Input","maxlength":"50","value":"{{data.form.specification}}","onChange":"{{function(e){$sf('data.form.specification',e.target.value)}}}"}},{"name":"unitItem","component":"Form.Item","label":"\u8ba1\u91cf\u5355\u4f4d","required":!0,"validateStatus":"{{data.other.error.unit?'error':'success'}}","help":"{{data.other.error.unit}}","children":{"name":"unit","component":"Select","showSearch":!1,"optionFilterProp":"children","value":"{{data.form.unit&&data.form.unit.id}}","onChange":"{{function(v){$fieldChange('data.form.unit',data.other.unit.filter(function(data){return data.id == v})[0])}}}","dropdownFooter":{"name":"add","component":"Button","type":"primary","style":{"width":"100%","borderRadius":"0"},"onClick":"{{$addUnit}}","children":"\u65b0\u589e\u5355\u4f4d"},"children":{"name":"selectItem","component":"Select.Option","value":"{{data.other.unit[_rowIndex].id}}","children":"{{data.other.unit[_rowIndex].name}}","_power":"for in data.other.unit"}}},{"name":"taxRateItem","component":"Form.Item","label":"\u7a0e\u7387","required":!0,"validateStatus":"{{data.other.error.rate?'error':'success'}}","help":"{{data.other.error.rate}}","children":{"name":"rate","component":"Select","showSearch":!1,"optionFilterProp":"children","value":"{{data.form.rate&&data.form.rate.id}}","onChange":"{{function(v){$fieldChange('data.form.rate',data.other.rate.filter(function(data){return data.id == v})[0])}}}","children":{"name":"selectItem","component":"Select.Option","value":"{{data.other.rate[_rowIndex].id}}","children":"{{data.other.rate[_rowIndex].name}}","_power":"for in data.other.rate"}}},{"name":"name","component":"div","style":{"width":"50px","display":"inline-block"}},{"name":"taxClassificationCodeItem","component":"Form.Item","label":"\u7a0e\u6536\u5206\u7c7b\u7f16\u7801","children":{"name":"property","component":"Select","className":"ttk-edf-app-card-inventory-taxCode","allowClear":!0,"value":"{{data.form.taxClassificationId}}","placeholder":"\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22","notFoundContent":"{{$taxNotFound()}}","filterOption":!1,"dropdownMatchSelectWidth":!1,"dropdownClassName":"ttk-edf-app-card-inventory-taxCodeDropdown","onSearch":"{{$fetchUser}}","onChange":"{{$tacChange}}","children":"{{$taxOption()}}"}},{"name":"taxClassificationNameItem","component":"Form.Item","label":"\u7a0e\u6536\u5206\u7c7b\u540d\u79f0","children":{"name":"taxClassificationName","component":"Input","disabled":!0,"maxlength":"50","value":"{{data.form.taxClassificationName}}","onChange":"{{function(e){$sf('data.form.taxClassificationName',e.target.value)}}}"}},{"name":"statusItem","component":"Form.Item","label":"\u505c\u7528","children":[{"name":"isEnable","component":"Checkbox","checked":"{{!data.form.isEnable}}","onChange":"{{function(e){$sf('data.form.isEnable',!e.target.checked)}}}"}]}]}}}function getInitState(){return{"data":{"form":{"code":"","name":"","isEnable":!0},"isProperty":!1,"other":{"error":{}},"taxCode":{"data":[],"value":[],"fetching":!1}}}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports.getMeta=getMeta,exports.getInitState=getInitState},"1631":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaAction=new _edfMetaEngine.action(option),voucherAction=_edfComponent.FormDecorator.actionCreator((0,_extends3["default"])({},option,{"metaAction":metaAction})),o=new action((0,_extends3["default"])({},option,{"metaAction":metaAction,"voucherAction":voucherAction})),ret=(0,_extends3["default"])({},metaAction,voucherAction,o);return metaAction.config({"metaHandlers":ret}),ret}Object.defineProperty(exports,"__esModule",{"value":!0});var _class,_temp,_initialiseProps,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_regenerator=__webpack_require__(19),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(18),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_edfMetaEngine=__webpack_require__(5),_config=__webpack_require__(399),_config2=_interopRequireDefault(_config),_edfComponent=__webpack_require__(22),_lodash=__webpack_require__(2059),_lodash2=_interopRequireDefault(_lodash),action=(_temp=_class=function action(option){(0,_classCallCheck3["default"])(this,action),_initialiseProps.call(this),this.metaAction=option.metaAction,this.config=_config2["default"].current,this.voucherAction=option.voucherAction,this.webapi=this.config.webapi,this.fetchUser=(0,_lodash2["default"])(this.fetchUser,800),this.lastFetchId=0},_initialiseProps=function _initialiseProps(){var _this=this;this.onInit=function(_ref){var component=_ref.component,injections=_ref.injections;_this.voucherAction.onInit({"component":component,"injections":injections}),_this.component=component,_this.injections=injections,_this.component.props.setOkListener&&_this.component.props.setOkListener(_this.onOk),injections.reduce("init",{"isPop":_this.component.props.isPop}),_this.load()},this.load=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee(){var data,response,code,queryData;return _regenerator2["default"].wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(data={},response={},code=void 0,!_this.component.props.personId&&0!==_this.component.props.personId){_context.next=7;break}return _context.next=4,_this.webapi.inventory.query(_this.component.props.personId);case 4:response=_context.sent,_context.next=10;break;case 7:return _context.next=9,_this.webapi.inventory.getCode();case 9:code=_context.sent;case 10:return code&&(data.code=code),response&&(data.response=response),_context.next=14,_this.webapi.inventory.queryData();case 14:queryData=_context.sent,queryData&&(data.queryData=queryData),_this.injections.reduce("load",data),_this.fetchUser(1010);case 18:case"end":return _context.stop()}},_callee,_this)})),this.fetchUser=function(){var _ref3=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee2(value){var fetchId,response,data;return _regenerator2["default"].wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return value||(value=1010),_this.lastFetchId+=1,fetchId=_this.lastFetchId,_this.injections.reduce("taxCodeLoad",{"data":[],"fetching":!0}),_context2.next=6,_this.webapi.inventory.taxClassification({"key":value});case 6:if(response=_context2.sent,!response){_context2.next=12;break}if(fetchId===_this.lastFetchId){_context2.next=10;break}return _context2.abrupt("return");case 10:data=response.map(function(taxData){return{"text":taxData.key+"-"+taxData.label,"value":taxData.label+","+taxData.key}}),_this.injections.reduce("taxCodeLoad",{"data":data,"fetching":!1});case 12:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}(),this.taxOption=function(){var data=_this.metaAction.gf("data.taxCode.data")&&_this.metaAction.gf("data.taxCode.data").toJS();if(data)return data.map(function(d){return _react2["default"].createElement(Option,{"title":d.text,"key":d.value},d.text)})},this.taxNotFound=function(){var fetching=_this.metaAction.gf("data.taxCode.fetching");return fetching?_react2["default"].createElement(_edfComponent.Spin,{"size":"small"}):null},this.tacChange=function(str){str?(_this.injections.reduce("taxCodeLoad",{"fetching":!1}),_this.injections.reduce("taxCodeChange",str)):_this.injections.reduce("taxCodeChange",str)},this.onOk=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee3(){return _regenerator2["default"].wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this.save();case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,_this)})),this.save=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee4(){var form,isProperty,checkArr,ok,response,data;return _regenerator2["default"].wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return form=_this.metaAction.gf("data.form").toJS(),isProperty=_this.metaAction.gf("data.isProperty"),checkArr=[{"path":"data.form.code","value":form.code},{"path":"data.form.name","value":form.name},{"path":"data.form.unit","value":form.unit},{"path":"data.form.property","value":form.property},{"path":"data.form.rate","value":form.rate}],isProperty&&checkArr.push({"path":"data.form.propertyDetail","value":form.propertyDetail}),_context4.next=5,_this.voucherAction.check(checkArr,_this.check);case 5:if(ok=_context4.sent){_context4.next=9;break}return _this.metaAction.toast("warning","\u8bf7\u6309\u9875\u9762\u63d0\u793a\u4fe1\u606f\u4fee\u6539\u4fe1\u606f\u540e\u624d\u53ef\u63d0\u4ea4"),_context4.abrupt("return",!1);case 9:if(response=void 0,data={},data.taxClassificationId=form.taxClassificationId?form.taxClassificationId:"",data.taxClassificationName=form.taxClassificationName?form.taxClassificationName:"",data.code=form.code?form.code.trim():"",data.name=form.name?form.name.trim():"",data.specification=form.specification?form.specification.trim():"",data.unitId=form.unit?form.unit.id:"",data.unitName=form.unit.name?form.unit.name.trim():"",data.propertyId=form.property?form.property.id:"",data.propertyName=form.property?form.property.name:"",data.propertyDetail=form.propertyDetail?form.propertyDetail.id:"",data.rate=form.rate?form.rate.id:"",data.rateName=form.rate.name?form.rate.name:"",data.isEnable=form.isEnable||form.isEnable===!1?form.isEnable:"",data.ts=form.ts?form.ts:"",data.isReturnValue=!0,!_this.component.props.personId&&0!==_this.component.props.personId){_context4.next=32;break}return data.id=_this.component.props.personId,_context4.next=29,_this.webapi.inventory.update(data);case 29:response=_context4.sent,_context4.next=35;break;case 32:return _context4.next=34,_this.webapi.inventory.create(data);case 34:response=_context4.sent;case 35:if(!response||!response.error){_context4.next=40;break}return _this.metaAction.toast("error",response.error.message),_context4.abrupt("return",!1);case 40:return _this.metaAction.toast("success","\u4fdd\u5b58\u6210\u529f"),_context4.abrupt("return",response);case 42:case"end":return _context4.stop()}},_callee4,_this)})),this.changeCheck=function(num){var form=_this.metaAction.gf("data.form").toJS();1==num?_this.voucherAction.check([{"path":"data.form.code","value":form.code}],_this.check):_this.voucherAction.check([{"path":"data.form.name","value":form.name}],_this.check)},this.check=function(option){if(option&&option.path)return"data.form.code"==option.path?{"errorPath":"data.other.error.code","message":option.value&&option.value.trim()?"":"\u8bf7\u5f55\u5165\u7f16\u7801"}:"data.form.name"==option.path?{"errorPath":"data.other.error.name","message":option.value&&option.value.trim()?"":"\u8bf7\u5f55\u5165\u540d\u79f0"}:"data.form.unit"==option.path?{"errorPath":"data.other.error.unit","message":option.value?"":"\u8bf7\u9009\u62e9\u8ba1\u91cf\u5355\u4f4d"}:"data.form.property"==option.path?{"errorPath":"data.other.error.property","message":option.value?"":"\u8bf7\u9009\u62e9\u5b58\u8d27\u53ca\u670d\u52a1\u5206\u7c7b"}:"data.form.rate"==option.path?{"errorPath":"data.other.error.rate","message":option.value?"":"\u8bf7\u9009\u62e9\u7a0e\u7387"}:"data.form.propertyDetail"==option.path?{"errorPath":"data.other.error.propertyDetail","message":option.value?"":"\u8bf7\u9009\u62e9\u660e\u7ec6\u5206\u7c7b"}:void 0},this.fieldChange=function(path,value){_this.voucherAction.fieldChange(path,value,_this.check)},this.addUnit=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee5(){var ret,response;return _regenerator2["default"].wrap(function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,_this.metaAction.modal("show",{"title":"\u65b0\u589e\u8ba1\u91cf\u5355\u4f4d","width":350,"height":280,"children":_this.metaAction.loadApp("ttk-edf-app-card-unit",{"store":_this.component.props.store})});case 2:if(ret=_context5.sent,!ret){_context5.next=8;break}return _context5.next=6,_this.webapi.unit.query();case 6:response=_context5.sent,response&&_this.injections.reduce("unit",response.list,ret);case 8:case"end":return _context5.stop()}},_callee5,_this)})),this.propertyChange=function(v){v=JSON.parse(v);var a=_this.metaAction.gf("data.other.propertyDetail").toJS().filter(function(data){return v.id==data.propertyId});_this.injections.reduce("propertyChange",v,a);var form=_this.metaAction.gf("data.form").toJS(),checkArr=[{"path":"data.form.property","value":form.property}];_this.voucherAction.check(checkArr,_this.check)},this.propertyDetailChange=function(v){v=JSON.parse(v);var a=_this.metaAction.gf("data.other.propertyDetail").toJS().filter(function(data){return v.id==data.propertyId});_this.injections.reduce("propertyChange",v,a);var form=_this.metaAction.gf("data.form").toJS(),checkArr=[{"path":"data.form.propertyDetail","value":form.propertyDetail}];_this.voucherAction.check(checkArr,_this.check)}},_temp);module.exports=exports["default"]},"1632":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=void 0;var _dec,_class,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_possibleConstructorReturn2=__webpack_require__(7),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(6),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_edfMetaEngine=(_interopRequireDefault(_react),__webpack_require__(5)),_index=__webpack_require__(675),_index2=_interopRequireDefault(_index),C=(_dec=(0,_edfMetaEngine.wrapper)(_index2["default"]),_dec(_class=function(_Component){function C(){return(0,_classCallCheck3["default"])(this,C),(0,_possibleConstructorReturn3["default"])(this,_Component.apply(this,arguments))}return(0,_inherits3["default"])(C,_Component),C.prototype.render=function render(){return this.props.monkeyKing((0,_extends3["default"])({},this.props,{"path":"root"}))},C}(_react.Component))||_class);exports["default"]=C,module.exports=exports["default"]},"1633":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaReducer=new _edfMetaEngine.reducer(option),o=new reducer((0,_extends3["default"])({},option,{"metaReducer":metaReducer}));return(0,_extends3["default"])({},metaReducer,o)}Object.defineProperty(exports,"__esModule",{"value":!0});var _class,_temp,_initialiseProps,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_keys=__webpack_require__(41),_keys2=_interopRequireDefault(_keys),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _immutable=__webpack_require__(11),_edfMetaEngine=__webpack_require__(5),_config=__webpack_require__(399),_config2=_interopRequireDefault(_config),_data=__webpack_require__(674),_edfConsts=__webpack_require__(133),reducer=(_temp=_class=function reducer(option){(0,_classCallCheck3["default"])(this,reducer),_initialiseProps.call(this),this.metaReducer=option.metaReducer,this.config=_config2["default"].current},_initialiseProps=function _initialiseProps(){var _this=this;this.init=function(state,option){var initState=(0,_data.getInitState)();return _this.metaReducer.init(state,initState)},this.load=function(state,option){if(option.response){if(option.response.propertyId&&(option.queryData.dataList.filter(function(data){data.id==option.response.propertyId&&(option.response.property=data)}),option.queryData&&option.queryData.detailList)){var a=option.queryData.detailList.filter(function(data){return option.response.propertyId==data.propertyId});state=_this.metaReducer.sf(state,"data.other.propertyDetailFilter",(0,_immutable.fromJS)(a))}option.response.propertyDetail&&(option.queryData.detailList.filter(function(data){data.id==option.response.propertyDetail&&(option.response.propertyDetail=data)}),state=_this.metaReducer.sf(state,"data.isProperty",(0,_immutable.fromJS)(!0))),option.response.unitId&&(option.response.unit={"id":option.response.unitId,"name":option.response.unitName}),option.response.rate&&(option.response.rate={"id":option.response.rate,"name":option.response.rateName}),0==(0,_keys2["default"])(option.response).length?(option.response.isEnable=!0,state=_this.metaReducer.sf(state,"data.form",(0,_immutable.fromJS)(option.response))):state=_this.metaReducer.sf(state,"data.form",(0,_immutable.fromJS)(option.response))}return option.code&&(state=_this.metaReducer.sf(state,"data.form.code",(0,_immutable.fromJS)(option.code))),option.queryData&&(option.queryData.dataList&&(state=_this.metaReducer.sf(state,"data.other.property",(0,_immutable.fromJS)(option.queryData.dataList))),option.queryData.detailList&&(state=_this.metaReducer.sf(state,"data.other.propertyDetail",(0,_immutable.fromJS)(option.queryData.detailList))),option.queryData.rateList&&(state=_this.metaReducer.sf(state,"data.other.rate",(0,_immutable.fromJS)(option.queryData.rateList))),option.queryData.unitList&&(state=_this.metaReducer.sf(state,"data.other.unit",(0,_immutable.fromJS)(option.queryData.unitList)))),option.taxCode&&(state=_this.metaReducer.sf(state,"data.taxCode",(0,_immutable.fromJS)(option.taxCode))),state},this.unit=function(state,list,select){return state=_this.metaReducer.sf(state,"data.other.unit",(0,_immutable.fromJS)(list)),state=_this.metaReducer.sf(state,"data.form.unit",(0,_immutable.fromJS)(select))},this.propertyChange=function(state,v,a){var generalTaxPayer=_edfConsts.consts.VATTAXPAYER_generalTaxPayer,smallScaleTaxPayer=_edfConsts.consts.VATTAXPAYER_smallScaleTaxPayer,rateList=_this.metaReducer.gf(state,"data.other.rate"),name=void 0;if(v.vatTaxpayer)if("\u670d\u52a1"==v.name||"\u65e0\u5f62\u8d44\u4ea7"==v.name){state=_this.metaReducer.sf(state,"data.other.propertyDetailFilter",(0,_immutable.fromJS)(a)),state=_this.metaReducer.sf(state,"data.isProperty",(0,_immutable.fromJS)(!0))}else state=_this.metaReducer.sf(state,"data.isProperty",(0,_immutable.fromJS)(!1));return _this.metaReducer.context.get("currentOrg").vatTaxpayer==generalTaxPayer?name="\u670d\u52a1"==v.name||"\u56fa\u5b9a\u8d44\u4ea7-\u4e0d\u52a8\u4ea7"==v.name||"\u4ea4\u901a\u8fd0\u8f93\u670d\u52a1"==v.name||"\u90ae\u653f\u670d\u52a1"==v.name||"\u57fa\u7840\u7535\u4fe1\u670d\u52a1"==v.name||"\u5efa\u7b51\u670d\u52a1"==v.name||"\u4e0d\u52a8\u4ea7\u79df\u8d41\u670d\u52a1"==v.name||"\u571f\u5730\u4f7f\u7528\u6743"==v.name?"11%":"\u65e0\u5f62\u8d44\u4ea7"==v.name||"\u589e\u503c\u7535\u4fe1\u670d\u52a1"==v.name||"\u4fe1\u606f\u6280\u672f\u670d\u52a1"==v.name||"\u91d1\u878d\u670d\u52a1"==v.name||"\u751f\u6d3b\u670d\u52a1"==v.name||"\u5176\u4ed6\u670d\u52a1"==v.name||"\u4e13\u5229\u6743"==v.name||"\u5546\u6807\u6743"==v.name||"\u8457\u4f5c\u6743"==v.name||"\u975e\u4e13\u5229\u6280\u672f"==v.name||"\u7279\u8bb8\u6743\u4f7f\u7528\u8d39"==v.name||"\u5176\u4ed6"==v.name?"6%":"17%":_this.metaReducer.context.get("currentOrg").vatTaxpayer==smallScaleTaxPayer&&(name="\u56fa\u5b9a\u8d44\u4ea7-\u4e0d\u52a8\u4ea7"==v.name||"\u571f\u5730\u4f7f\u7528\u6743"==v.name||"\u4e0d\u52a8\u4ea7\u79df\u8d41\u670d\u52a1"==v.name?"5%":"3%"),rateList&&rateList.toJS().map(function(item){item.name==name&&(state=_this.metaReducer.sf(state,"data.form.rate",(0,_immutable.fromJS)(item)))}),v.vatTaxpayer?(state=_this.metaReducer.sf(state,"data.form.property",(0,_immutable.fromJS)(v)),state=_this.metaReducer.sf(state,"data.form.propertyDetail","")):state=_this.metaReducer.sf(state,"data.form.propertyDetail",(0,_immutable.fromJS)(v)),state},this.taxCodeLoad=function(state,taxCode){return taxCode.data&&(state=_this.metaReducer.sf(state,"data.taxCode.data",(0,_immutable.fromJS)(taxCode.data))),state=_this.metaReducer.sf(state,"data.taxCode.fetching",(0,_immutable.fromJS)(taxCode.fetching))},this.taxCodeChange=function(state,code){if(code){var str=code.split(",");state=_this.metaReducer.sf(state,"data.form.taxClassificationId",(0,_immutable.fromJS)(str[1])),state=_this.metaReducer.sf(state,"data.form.taxClassificationName",(0,_immutable.fromJS)(str[0]))}else state=_this.metaReducer.sf(state,"data.form.taxClassificationId",(0,_immutable.fromJS)("")),state=_this.metaReducer.sf(state,"data.form.taxClassificationName",(0,_immutable.fromJS)(""));return state}},_temp);module.exports=exports["default"]},"1634":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{"value":!0});var _edfUtils=__webpack_require__(12);exports["default"]={"inventory":{"queryData":function queryData(){return _edfUtils.fetch.post("/v1/ba/inventory/findEnumList")},"getCode":function getCode(){return _edfUtils.fetch.post("/v1/ba/basearchive/getAutoCode",{"archiveName":"ba_inventory"})},"query":function query(id){return _edfUtils.fetch.post("/v1/ba/inventory/query",{"id":id})},"create":function create(option){return _edfUtils.fetch.post("/v1/ba/inventory/create",option)},"update":function update(option){return _edfUtils.fetch.post("/v1/ba/inventory/update",option)},"taxClassification":function taxClassification(option){return _edfUtils.fetch.post("/v1/ba/inventoryTaxClassification/queryByKey",option)},"queryList":function queryList(option){return _edfUtils.fetch.post("/v1/ba/inventory/queryList",option)}},"unit":{"query":function query(){return _edfUtils.fetch.post("v1/ba/unit/queryList")}}},module.exports=exports["default"]},"2059":function(module,exports){(function(global){function debounce(func,wait,options){function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();return shouldInvoke(time)?trailingEdge(time):void(timerId=setTimeout(timerExpired,remainingWait(time)))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0}function flush(){return void 0===timerId?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};module.exports=debounce}).call(exports,function(){return this}())}});