webpackJsonp([7,60],{"67":function(module,exports){var charenc={"utf8":{"stringToBytes":function(str){return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)))},"bytesToString":function(bytes){return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)))}},"bin":{"stringToBytes":function(str){for(var bytes=[],i=0;i<str.length;i++)bytes.push(255&str.charCodeAt(i));return bytes},"bytesToString":function(bytes){for(var str=[],i=0;i<bytes.length;i++)str.push(String.fromCharCode(bytes[i]));return str.join("")}}};module.exports=charenc},"113":function(module,exports){!function(){var base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",crypt={"rotl":function(n,b){return n<<b|n>>>32-b},"rotr":function(n,b){return n<<32-b|n>>>b},"endian":function(n){if(n.constructor==Number)return 16711935&crypt.rotl(n,8)|4278255360&crypt.rotl(n,24);for(var i=0;i<n.length;i++)n[i]=crypt.endian(n[i]);return n},"randomBytes":function(n){for(var bytes=[];n>0;n--)bytes.push(Math.floor(256*Math.random()));return bytes},"bytesToWords":function(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words},"wordsToBytes":function(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes},"bytesToHex":function(bytes){for(var hex=[],i=0;i<bytes.length;i++)hex.push((bytes[i]>>>4).toString(16)),hex.push((15&bytes[i]).toString(16));return hex.join("")},"hexToBytes":function(hex){for(var bytes=[],c=0;c<hex.length;c+=2)bytes.push(parseInt(hex.substr(c,2),16));return bytes},"bytesToBase64":function(bytes){for(var base64=[],i=0;i<bytes.length;i+=3)for(var triplet=bytes[i]<<16|bytes[i+1]<<8|bytes[i+2],j=0;j<4;j++)8*i+6*j<=8*bytes.length?base64.push(base64map.charAt(triplet>>>6*(3-j)&63)):base64.push("=");return base64.join("")},"base64ToBytes":function(base64){base64=base64.replace(/[^A-Z0-9+\/]/gi,"");for(var bytes=[],i=0,imod4=0;i<base64.length;imod4=++i%4)0!=imod4&&bytes.push((base64map.indexOf(base64.charAt(i-1))&Math.pow(2,-2*imod4+8)-1)<<2*imod4|base64map.indexOf(base64.charAt(i))>>>6-2*imod4);return bytes}};module.exports=crypt}()},"119":function(module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}},"121":function(module,exports,__webpack_require__){!function(){var crypt=__webpack_require__(113),utf8=__webpack_require__(67).utf8,isBuffer=__webpack_require__(119),bin=__webpack_require__(67).bin,md5=function(message,options){message.constructor==String?message=options&&"binary"===options.encoding?bin.stringToBytes(message):utf8.stringToBytes(message):isBuffer(message)?message=Array.prototype.slice.call(message,0):Array.isArray(message)||(message=message.toString());for(var m=crypt.bytesToWords(message),l=8*message.length,a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<m.length;i++)m[i]=16711935&(m[i]<<8|m[i]>>>24)|4278255360&(m[i]<<24|m[i]>>>8);m[l>>>5]|=128<<l%32,m[(l+64>>>9<<4)+14]=l;for(var FF=md5._ff,GG=md5._gg,HH=md5._hh,II=md5._ii,i=0;i<m.length;i+=16){var aa=a,bb=b,cc=c,dd=d;a=FF(a,b,c,d,m[i+0],7,-680876936),d=FF(d,a,b,c,m[i+1],12,-389564586),c=FF(c,d,a,b,m[i+2],17,606105819),b=FF(b,c,d,a,m[i+3],22,-1044525330),a=FF(a,b,c,d,m[i+4],7,-176418897),d=FF(d,a,b,c,m[i+5],12,1200080426),c=FF(c,d,a,b,m[i+6],17,-1473231341),b=FF(b,c,d,a,m[i+7],22,-45705983),a=FF(a,b,c,d,m[i+8],7,1770035416),d=FF(d,a,b,c,m[i+9],12,-1958414417),c=FF(c,d,a,b,m[i+10],17,-42063),b=FF(b,c,d,a,m[i+11],22,-1990404162),a=FF(a,b,c,d,m[i+12],7,1804603682),d=FF(d,a,b,c,m[i+13],12,-40341101),c=FF(c,d,a,b,m[i+14],17,-1502002290),b=FF(b,c,d,a,m[i+15],22,1236535329),a=GG(a,b,c,d,m[i+1],5,-165796510),d=GG(d,a,b,c,m[i+6],9,-1069501632),c=GG(c,d,a,b,m[i+11],14,643717713),b=GG(b,c,d,a,m[i+0],20,-373897302),a=GG(a,b,c,d,m[i+5],5,-701558691),d=GG(d,a,b,c,m[i+10],9,38016083),c=GG(c,d,a,b,m[i+15],14,-660478335),b=GG(b,c,d,a,m[i+4],20,-405537848),a=GG(a,b,c,d,m[i+9],5,568446438),d=GG(d,a,b,c,m[i+14],9,-1019803690),c=GG(c,d,a,b,m[i+3],14,-187363961),b=GG(b,c,d,a,m[i+8],20,1163531501),a=GG(a,b,c,d,m[i+13],5,-1444681467),d=GG(d,a,b,c,m[i+2],9,-51403784),c=GG(c,d,a,b,m[i+7],14,1735328473),b=GG(b,c,d,a,m[i+12],20,-1926607734),a=HH(a,b,c,d,m[i+5],4,-378558),d=HH(d,a,b,c,m[i+8],11,-2022574463),c=HH(c,d,a,b,m[i+11],16,1839030562),b=HH(b,c,d,a,m[i+14],23,-35309556),a=HH(a,b,c,d,m[i+1],4,-1530992060),d=HH(d,a,b,c,m[i+4],11,1272893353),c=HH(c,d,a,b,m[i+7],16,-155497632),b=HH(b,c,d,a,m[i+10],23,-1094730640),a=HH(a,b,c,d,m[i+13],4,681279174),d=HH(d,a,b,c,m[i+0],11,-358537222),c=HH(c,d,a,b,m[i+3],16,-722521979),b=HH(b,c,d,a,m[i+6],23,76029189),a=HH(a,b,c,d,m[i+9],4,-640364487),d=HH(d,a,b,c,m[i+12],11,-421815835),c=HH(c,d,a,b,m[i+15],16,530742520),b=HH(b,c,d,a,m[i+2],23,-995338651),a=II(a,b,c,d,m[i+0],6,-198630844),d=II(d,a,b,c,m[i+7],10,1126891415),c=II(c,d,a,b,m[i+14],15,-1416354905),b=II(b,c,d,a,m[i+5],21,-57434055),a=II(a,b,c,d,m[i+12],6,1700485571),d=II(d,a,b,c,m[i+3],10,-1894986606),c=II(c,d,a,b,m[i+10],15,-1051523),b=II(b,c,d,a,m[i+1],21,-2054922799),a=II(a,b,c,d,m[i+8],6,1873313359),d=II(d,a,b,c,m[i+15],10,-30611744),c=II(c,d,a,b,m[i+6],15,-1560198380),b=II(b,c,d,a,m[i+13],21,1309151649),a=II(a,b,c,d,m[i+4],6,-145523070),d=II(d,a,b,c,m[i+11],10,-1120210379),c=II(c,d,a,b,m[i+2],15,718787259),b=II(b,c,d,a,m[i+9],21,-343485551),a=a+aa>>>0,b=b+bb>>>0,c=c+cc>>>0,d=d+dd>>>0}return crypt.endian([a,b,c,d])};md5._ff=function(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._gg=function(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._hh=function(a,b,c,d,x,s,t){var n=a+(b^c^d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._ii=function(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._blocksize=16,md5._digestsize=16,module.exports=function(message,options){if(void 0===message||null===message)throw new Error("Illegal argument "+message);var digestbytes=crypt.wordsToBytes(md5(message,options));return options&&options.asBytes?digestbytes:options&&options.asString?bin.bytesToString(digestbytes):crypt.bytesToHex(digestbytes)}}()},"413":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function config(options){options&&(0,_extends3["default"])(_options,options)}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_webapi=__webpack_require__(1691),_webapi2=_interopRequireDefault(_webapi),_logo=__webpack_require__(517),_logo2=_interopRequireDefault(_logo),_options={"webapi":_webapi2["default"],"goLogin":{"appName":"ttk-edf-app-login","appParams":{}},"logo":_logo2["default"]};config.current=_options,exports["default"]=config,module.exports=exports["default"]},"517":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"3514cf83e1e6511b8178fbc4feb74050.png"},"702":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getMeta(){return{"name":"root","component":"Layout","className":"ttk-edf-app-forgot-password","children":[{"name":"header","className":"ttk-edf-app-forgot-password-header","component":"Layout","children":[{"name":"header-left","component":"Layout","className":"ttk-edf-app-forgot-password-header-left","children":[{"name":"sitename","component":"span","className":"ttk-edf-app-login-header-left-sitename","children":"\u4f01\u4e1a\u5f00\u53d1\u5e73\u53f0"},{"name":"split","component":"div","className":"ttk-edf-app-login-header-left-split"},{"name":"item","className":"ttk-edf-app-login-header-left-login","component":"span","children":"\u91cd\u7f6e\u5bc6\u7801"}]},{"name":"header-right","className":"ttk-edf-app-forgot-password-header-right","component":"a","onClick":"{{$goLogin}}","children":["\u767b\u5f55"]}]},{"name":"form","component":"Form","className":"ttk-edf-app-forgot-password-form","children":[{"name":"titleItem","component":"Form.Item","className":"ttk-edf-app-forgot-password-form-title","children":"{{data.other.step==1?'\u5b89\u5168\u9a8c\u8bc1':(data.other.step==2?'\u91cd\u7f6e\u5bc6\u7801':'\u91cd\u65b0\u767b\u5f55')}}"},{"name":"barItem","component":"div","className":"ttk-edf-app-forgot-password-form-bar","children":[{"name":"step1","component":"div","className":"ttk-edf-app-register-form-bar-step","children":[{"name":"title","className":"ttk-edf-app-register-form-bar-step-icon","component":"div","style":{"background":"#1EB5AD","borderColor":"#1EB5AD","color":"#fff"},"children":["1"]},{"name":"description","component":"span","className":"ttk-edf-app-register-form-bar-step-description","style":{"color":"#1EB5AD"},"children":["\u5b89\u5168\u9a8c\u8bc1"]}]},{"name":"line1","className":'{{data.other.step >= 2 ? "ttk-edf-app-register-form-bar-line active" : "ttk-edf-app-register-form-bar-line"}}',"component":"span"},{"name":"step2","component":"div","className":"ttk-edf-app-register-form-bar-step","children":[{"name":"title","className":"ttk-edf-app-register-form-bar-step-icon","style":"{{data.other.step>=2? {background: '#1EB5AD',borderColor: '#1EB5AD',color: '#fff'}:{background: '#fff',borderColor: '#666666',color: '#666666'}}}","component":"div","children":["2"]},{"name":"description","component":"span","style":"{{data.other.step>=2?{color: '#1EB5AD'}:{color: '#666666'}}}","className":"ttk-edf-app-register-form-bar-step-description","children":["\u91cd\u7f6e\u5bc6\u7801"]}]},{"name":"line2","className":'{{data.other.step >= 3 ? "ttk-edf-app-register-form-bar-line active" : "ttk-edf-app-register-form-bar-line"}}',"component":"span"},{"name":"step3","component":"div","className":"ttk-edf-app-register-form-bar-step","children":[{"name":"title","className":"ttk-edf-app-register-form-bar-step-icon","style":"{{data.other.step==3? {background: '#1EB5AD',borderColor: '#1EB5AD',color: '#fff'}:{background: '#fff',borderColor: '#666666',color: '#666666'}}}","component":"div","children":["3"]},{"name":"description","component":"span","style":"{{data.other.step==3?{color: '#1EB5AD'}:{color: '#666666'}}}","className":"ttk-edf-app-register-form-bar-step-description","children":["\u91cd\u65b0\u767b\u5f55"]}]}]},{"name":"mobileItem","component":"Form.Item","className":"ttk-edf-app-forgot-password-form-mobile","validateStatus":"{{data.other.error.mobile?'error':'success'}}","help":"{{data.other.error.mobile}}","_visible":"{{data.other.step==1}}","children":[{"name":"mobile","component":"Input","className":"mobileInput","value":"{{data.form.mobile}}","placeholder":"\u8bf7\u8f93\u5165\u7ed1\u5b9a\u624b\u673a\u53f7","onChange":"{{function(e){$fieldChange('data.form.mobile',e.target.value)}}}","prefix":{"name":"prefix","component":"span","children":[{"name":"require","component":"span","className":"ant-form-item-required"}]}}]},{"name":"captchaItem","component":"Form.Item","className":"ttk-edf-app-forgot-password-form-captcha","validateStatus":"{{data.other.error.captcha?'error':'success'}}","help":"{{data.other.error.captcha}}","_visible":"{{data.other.step==1}}","children":[{"name":"captcha","component":"Input","value":"{{data.form.captcha}}","placeholder":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801","type":"captcha","onFocus":"{{function(){$setField('data.other.error.captcha',undefined)}}}","onChange":"{{function(e){$setField('data.form.captcha',e.target.value)}}}","prefix":{"name":"prefix","component":"span","children":[{"name":"require","component":"span","className":"ant-form-item-required"}]},"addonAfter":{"name":"suffix","component":"Button","style":{"width":"98px"},"className":"getCaptchaCode","disabled":"{{!data.form.mobile || !!data.other.error.mobile || !data.timeStaus}}","onClick":"{{$getCaptcha}}","children":"{{data.time}}"}}]},{"name":"nextItem","className":"ttk-edf-app-forgot-password-form-next","component":"Form.Item","_visible":"{{data.other.step==1}}","children":[{"name":"next","disabled":"{{$checkNext()}}","component":"Button","type":"softly","children":"\u4e0b\u4e00\u6b65","onClick":"{{$next}}"}]},{"name":"passwordItem","component":"Form.Item","className":"ttk-edf-app-forgot-password-form-password","validateStatus":"{{data.other.error.password?'error':'success'}}","help":"{{data.other.error.password}}","_visible":"{{data.other.step==2}}","children":[{"name":"password","component":"Input","className":"pwdInput","value":"{{data.form.password}}","placeholder":"\u65b0\u5bc6\u7801\uff086-20\u4f4d\u81f3\u5c11\u5305\u62ec\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57\uff09","type":"password","onChange":"{{function(e){$fieldChange('data.form.password',e.target.value)}}}","prefix":{"name":"prefix","component":"span","children":[{"name":"require","component":"span","className":"ant-form-item-required"}]}}]},{"name":"confirmPasswordItem","component":"Form.Item","className":"ttk-edf-app-forgot-password-form-confirmPassword","validateStatus":"{{data.other.error.confirmPassword?'error':'success'}}","help":"{{data.other.error.confirmPassword}}","_visible":"{{data.other.step==2}}","children":[{"name":"confirmPassword","component":"Input","value":"{{data.form.confirmPassword}}","className":"rePwdInput","placeholder":"\u786e\u8ba4\u65b0\u5bc6\u7801","type":"password","onBlur":"{{function(e){data.form.confirmPassword == data.form.password ? '' : $setField('data.other.error.confirmPassword','\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u786e\u8ba4')}}}","onChange":"{{function(e){$fieldChange('data.form.confirmPassword',e.target.value)}}}","prefix":{"name":"prefix","component":"span","children":[{"name":"require","component":"span","className":"ant-form-item-required"}]}}]},{"name":"relogin","component":"div","className":"ttk-edf-app-forgot-password-form-relogin","_visible":"{{data.other.step==3}}","children":[{"name":"success","component":"div","children":[{"name":"successIcon","component":"Icon","fontFamily":"edficon","type":"chenggongtishi"},{"name":"text","component":"span","style":{"marginLeft":"8px"},"children":"\u5bc6\u7801\u4fee\u6539\u6210\u529f"}]},{"name":"reloginBtn","component":"div","children":["\u91cd\u65b0\u767b\u9646\uff08","{{data.reLoginTime}}",")"]}]},{"name":"modifyItem","className":"ttk-edf-app-forgot-password-form-modify","component":"Form.Item","_visible":"{{data.other.step==2}}","children":[{"name":"modify","component":"Button","type":"softly","children":"\u91cd\u7f6e\u5bc6\u7801","onClick":"{{$modify}}"}]},{"name":"loginItem","component":"Form.Item","className":"formBottom","_visible":"{{data.other.step!=3}}","children":[{"name":"prev","component":"a","children":"\u4e0a\u4e00\u6b65","className":"prev","onClick":"{{$prev}}","_visible":"{{data.other.step==2}}"},{"name":"login","component":"a","style":{"float":"right"},"children":"\u8fd4\u56de\u767b\u5f55","className":"backToLogin","onClick":"{{$goLogin}}"}]}]},{"name":"footer","className":"ttk-edf-app-login-footer","component":"Layout","children":[{"name":"item1","component":"p","children":[{"name":"item1","component":"span","children":"\u4f01\u4e1a\u5f00\u53d1\u5e73\u53f0"}]}]}]}}function getInitState(option){var state={"data":{"form":{"mobile":"","password":"","confirmPassword":"","captcha":""},"reLoginTime":5,"time":"\u83b7\u53d6\u9a8c\u8bc1\u7801","timeStaus":!0,"other":{"step":1,"error":{}}}};return state}Object.defineProperty(exports,"__esModule",{"value":!0}),exports.getMeta=getMeta,exports.getInitState=getInitState;var _moment=__webpack_require__(14);_interopRequireDefault(_moment)},"1688":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaAction=new _edfMetaEngine.action(option),o=new action((0,_extends3["default"])({},option,{"metaAction":metaAction})),ret=(0,_extends3["default"])({},metaAction,o);return metaAction.config({"metaHandlers":ret}),ret}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_getIterator2=__webpack_require__(28),_getIterator3=_interopRequireDefault(_getIterator2),_regenerator=__webpack_require__(19),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(18),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _react=__webpack_require__(1),_edfMetaEngine=(_interopRequireDefault(_react),__webpack_require__(5)),_moment=(__webpack_require__(11),__webpack_require__(14)),_config=(_interopRequireDefault(_moment),__webpack_require__(413)),_config2=_interopRequireDefault(_config),_md=__webpack_require__(121),_md2=_interopRequireDefault(_md),action=function action(option){var _this=this;(0,_classCallCheck3["default"])(this,action),this.onInit=function(_ref){var component=_ref.component,injections=_ref.injections;_this.component=component,_this.injections=injections,_this.component.props.setOkListener&&_this.component.props.setOkListener(_this.onOk),injections.reduce("init")},this.onOk=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee(){return _regenerator2["default"].wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.save();case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,_this)})),this.next=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee2(){var form,ok;return _regenerator2["default"].wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return form=_this.metaAction.gf("data.form").toJS(),_context2.next=3,_this.check([{"path":"data.form.mobile","value":form.mobile},{"path":"data.form.captcha","value":form.captcha}],"next");case 3:if(ok=_context2.sent){_context2.next=6;break}return _context2.abrupt("return");case 6:_this.clearTimer(!1,"\u83b7\u53d6\u9a8c\u8bc1\u7801"),_this.metaAction.sf("data.other.step",2);case 8:case"end":return _context2.stop()}},_callee2,_this)})),this.prev=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee3(){return _regenerator2["default"].wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_this.metaAction.sf("data.other.step",1);case 1:case"end":return _context3.stop()}},_callee3,_this)})),this.modify=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee4(){var form,ok,password,passwordStrength;return _regenerator2["default"].wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return form=_this.metaAction.gf("data.form").toJS(),_context4.next=3,_this.check([{"path":"data.form.password","value":form.password},{"path":"data.form.confirmPassword","value":form.confirmPassword}],"modify");case 3:if(ok=_context4.sent){_context4.next=6;break}return _context4.abrupt("return");case 6:return password=form.password,passwordStrength=_this.pwdLevel(password),form.password=(0,_md2["default"])(form.password+"*the3Kingdom*"),_context4.next=11,_this.webapi.user.resetPassword({"mobile":form.mobile,"password":form.password,"passwordStrength":passwordStrength});case 11:_this.metaAction.toast("success","\u91cd\u7f6e\u5bc6\u7801\u6210\u529f"),_this.metaAction.sf("data.other.step",3),_this.countFive();case 14:case"end":return _context4.stop()}},_callee4,_this)})),this.reLoginTime=null,this.countFive=function(){var t=5;_this.reLoginTimer=setInterval(function(){t--,_this.metaAction.sf("data.reLoginTime",t),0==t&&(clearInterval(_this.reLoginTimer),_this.goLogin())},1e3)},this.pwdLevel=function(pwd){var level=0,regCn=/[\xb7\uff01#\uffe5\uff08\u2014\u2014\uff09\uff1a\uff1b\u201c\u201d\u2018\u3001\uff0c|\u300a\u3002\u300b\uff1f\u3001\u3010\u3011[\]]/im;return/[0-9]/.test(pwd)&&level++,/[a-zA-Z]/.test(pwd)&&level++,(/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/.test(pwd)||regCn.test(pwd))&&level++,level},this.getLogo=function(){return _this.config.logo},this.countDown=60,this.timer=null,this.getCaptchaing=!1,this.getCaptcha=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee5(){var mobile,that,params,captcha;return _regenerator2["default"].wrap(function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(mobile=_this.metaAction.gf("data.form.mobile"),!mobile||/^1[3|4|5|7|8][0-9]\d{8}$/.test(mobile)){_context5.next=4;break}return _this.metaAction.sfs({"data.form.mobile":mobile,"data.other.error.mobile":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}),_context5.abrupt("return",!1);case 4:if(!_this.getCaptchaing){_context5.next=6;break}return _context5.abrupt("return");case 6:return _this.getCaptchaing=!0,_this.metaAction.sf("data.timeStaus",!1),that=_this,_this.timer=setInterval(function(){return 0==that.countDown?void that.clearTimer(!0,"\u91cd\u65b0\u83b7\u53d6"):void that.metaAction.sf("data.time",--that.countDown+"s")},1e3),params={},params.mobile=_this.metaAction.gf("data.form.mobile"),params.smsType=2,_context5.next=15,_this.webapi.captcha.fetch(params);case 15:captcha=_context5.sent,_this.metaAction.sf("data.form.sign",captcha),_this.metaAction.toast("success","\u9a8c\u8bc1\u7801\u5df2\u7ecf\u53d1\u9001\u5230\u60a8\u7684\u624b\u673a");case 18:case"end":return _context5.stop()}},_callee5,_this)})),this.clearTimer=function(staus,remind){this.metaAction.sf("data.timeStaus",!0),this.metaAction.sf("data.time",remind),this.countDown=60,this.getCaptchaing=!1,clearInterval(this.timer)},this.fieldChange=function(){var _ref7=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee6(fieldPath,value){return _regenerator2["default"].wrap(function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _this.metaAction.sf(fieldPath,value),_context6.next=3,_this.check([{"path":fieldPath,"value":value}]);case 3:case"end":return _context6.stop()}},_callee6,_this)}));return function(_x,_x2){return _ref7.apply(this,arguments)}}(),this.goLogin=function(){clearInterval(_this.reLoginTime),_this.clearTimer(!1,"\u83b7\u53d6\u9a8c\u8bc1\u7801"),_this.component.props.onRedirect&&_this.config.goLogin&&_this.component.props.onRedirect(_this.config.goLogin)},this.check=function(){var _ref8=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee7(fieldPathAndValues,action){var checkResults,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,o,r,confirmPassword,json,hasError;return _regenerator2["default"].wrap(function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(fieldPathAndValues){_context7.next=2;break}return _context7.abrupt("return");case 2:checkResults=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context7.prev=6,_iterator=(0,_getIterator3["default"])(fieldPathAndValues);case 8:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context7.next=56;break}if(o=_step.value,r=(0,_extends3["default"])({},o),"data.form.mobile"!=o.path){_context7.next=20;break}return _context7.t0=_extends3["default"],_context7.t1=r,_context7.next=16,_this.checkMobile(o.value,action);case 16:_context7.t2=_context7.sent,(0,_context7.t0)(_context7.t1,_context7.t2),_context7.next=52;break;case 20:if("data.form.captcha"!=o.path){_context7.next=29;break}return _context7.t3=_extends3["default"],_context7.t4=r,_context7.next=25,_this.checkCaptcha(o.value);case 25:_context7.t5=_context7.sent,(0,_context7.t3)(_context7.t4,_context7.t5),_context7.next=52;break;case 29:if("data.form.password"!=o.path){_context7.next=45;break}return _context7.t6=_extends3["default"],_context7.t7=r,_context7.next=34,_this.checkPassword(o.value);case 34:if(_context7.t8=_context7.sent,(0,_context7.t6)(_context7.t7,_context7.t8),confirmPassword=_this.metaAction.gf("data.form.confirmPassword"),!confirmPassword){_context7.next=43;break}return _context7.t9=checkResults,_context7.next=41,_this.checkConfirmPassword(confirmPassword,o.value);case 41:_context7.t10=_context7.sent,_context7.t9.push.call(_context7.t9,_context7.t10);case 43:_context7.next=52;break;case 45:if("data.form.confirmPassword"!=o.path){_context7.next=52;break}return _context7.t11=_extends3["default"],_context7.t12=r,_context7.next=50,_this.checkConfirmPassword(o.value,_this.metaAction.gf("data.form.password"),action);case 50:_context7.t13=_context7.sent,(0,_context7.t11)(_context7.t12,_context7.t13);case 52:checkResults.push(r);case 53:_iteratorNormalCompletion=!0,_context7.next=8;break;case 56:_context7.next=62;break;case 58:_context7.prev=58,_context7.t14=_context7["catch"](6),_didIteratorError=!0,_iteratorError=_context7.t14;case 62:_context7.prev=62,_context7.prev=63,!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]();case 65:if(_context7.prev=65,!_didIteratorError){_context7.next=68;break}throw _iteratorError;case 68:return _context7.finish(65);case 69:return _context7.finish(62);case 70:return json={},hasError=!0,checkResults.forEach(function(o){json[o.errorPath]=o.message,o.message&&(hasError=!1)}),_this.metaAction.sfs(json),_context7.abrupt("return",hasError);case 75:case"end":return _context7.stop()}},_callee7,_this,[[6,58,62,70],[63,,65,69]])}));return function(_x3,_x4){return _ref8.apply(this,arguments)}}(),this.checkMobile=function(){var _ref9=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee8(mobile,action){var message,flag,_flag;return _regenerator2["default"].wrap(function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!action||"next"!=action){_context8.next=15;break}if(mobile){_context8.next=5;break}message="\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_context8.next=13;break;case 5:if(11==mobile.length){_context8.next=9;break}message="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",_context8.next=13;break;case 9:return _context8.next=11,_this.webapi.user.existsMobile(mobile);case 11:flag=_context8.sent,!flag&&(message="\u8be5\u624b\u673a\u53f7\u672a\u6ce8\u518c\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");case 13:_context8.next=36;break;case 15:if(mobile){_context8.next=19;break}_context8.next=36;break;case 19:if(1!=mobile.length||"1"==mobile){_context8.next=23;break}message="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",_context8.next=36;break;case 23:if(!(mobile.length>1&&mobile.length<11)||/^1[3|4|5|8|7]/.test(mobile)){_context8.next=27;break}message="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",_context8.next=36;break;case 27:if(!(mobile.length>11)){_context8.next=31;break}message="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",_context8.next=36;break;case 31:if(11!=mobile.length){_context8.next=36;break}return _context8.next=34,_this.webapi.user.existsMobile(mobile);case 34:_flag=_context8.sent,!_flag&&(message="\u8be5\u624b\u673a\u53f7\u672a\u6ce8\u518c\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");case 36:return _context8.abrupt("return",{"errorPath":"data.other.error.mobile","message":message});case 37:case"end":return _context8.stop()}},_callee8,_this)}));return function(_x5,_x6){return _ref9.apply(this,arguments)}}(),this.checkCaptcha=function(){var _ref10=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee9(captcha){var message,sign,mobile,params;return _regenerator2["default"].wrap(function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(sign=_this.metaAction.gf("data.form.sign"),mobile=_this.metaAction.gf("data.form.mobile"),params={"sign":sign,"mobile":mobile,"captcha":captcha},captcha){_context9.next=7;break}message="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",_context9.next=11;break;case 7:return _context9.next=9,_this.webapi.captcha.validate(params);case 9:if(_context9.sent){_context9.next=11;break}message="\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef";case 11:return _context9.abrupt("return",{"errorPath":"data.other.error.captcha","message":message});case 12:case"end":return _context9.stop()}},_callee9,_this)}));return function(_x7){return _ref10.apply(this,arguments)}}(),this.checkPassword=function(){var _ref11=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee10(password){var message;return _regenerator2["default"].wrap(function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return password?/(?=^.{6,20}$)((?=.*[a-zA-Z]){1})((?=.*[0-9]){1})/.test(password)||(message="6-20\u4f4d\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57\uff0c\u533a\u5206\u5927\u5c0f\u5199"):message="\u8bf7\u5f55\u5165\u5bc6\u7801",_context10.abrupt("return",{"errorPath":"data.other.error.password","message":message});case 2:case"end":return _context10.stop()}},_callee10,_this)}));return function(_x8){return _ref11.apply(this,arguments)}}(),this.checkConfirmPassword=function(){var _ref12=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee11(confirmPassword,password,action){var message;return _regenerator2["default"].wrap(function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return"modify"==action?confirmPassword?password!=confirmPassword?message="\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u786e\u8ba4":/(?=^.{6,20}$)((?=.*[a-zA-Z]){1})((?=.*[0-9]){1})/.test(confirmPassword)||(message="\u8bf7\u8f93\u5165\u7b26\u5408\u89c4\u8303\u7684\u65b0\u5bc6\u7801"):message="\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801":(password.length<confirmPassword.length&&(message="\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u786e\u8ba4"),password.length==confirmPassword.length&&password!=confirmPassword&&(message="\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u786e\u8ba4")),_context11.abrupt("return",{"errorPath":"data.other.error.confirmPassword","message":message});case 2:case"end":return _context11.stop()}},_callee11,_this)}));return function(_x9,_x10,_x11){return _ref12.apply(this,arguments)}}(),this.checkNext=function(){var data=_this.metaAction.gf("data").toJS(),step=_this.metaAction.gf("data.other").toJS().step;return 1==step?!(data.form.mobile&&!data.other.error.mobile&&data.form.captcha&&!data.other.error.captcha):2==step?!(data.form.password&&!data.other.error.password&&data.form.confirmPassword&&!data.other.error.confirmPassword):void 0},this.metaAction=option.metaAction,this.config=_config2["default"].current,this.webapi=this.config.webapi};module.exports=exports["default"]},"1689":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=void 0;var _dec,_class,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_possibleConstructorReturn2=__webpack_require__(7),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(6),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_edfMetaEngine=(_interopRequireDefault(_react),__webpack_require__(5)),_index=__webpack_require__(703),_index2=_interopRequireDefault(_index),C=(_dec=(0,_edfMetaEngine.wrapper)(_index2["default"]),_dec(_class=function(_Component){function C(){return(0,_classCallCheck3["default"])(this,C),(0,_possibleConstructorReturn3["default"])(this,_Component.apply(this,arguments))}return(0,_inherits3["default"])(C,_Component),C.prototype.render=function render(){return this.props.monkeyKing((0,_extends3["default"])({},this.props,{"path":"root"}))},C}(_react.Component))||_class);exports["default"]=C,module.exports=exports["default"]},"1690":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaReducer=new _edfMetaEngine.reducer(option),o=new reducer((0,_extends3["default"])({},option,{"metaReducer":metaReducer}));return(0,_extends3["default"])({},metaReducer,o)}Object.defineProperty(exports,"__esModule",{"value":!0});var _class,_temp,_initialiseProps,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _edfMetaEngine=(__webpack_require__(11),__webpack_require__(5)),_config=__webpack_require__(413),_moment=(_interopRequireDefault(_config),__webpack_require__(14)),_data=(_interopRequireDefault(_moment),__webpack_require__(702)),reducer=(_temp=_class=function reducer(option){(0,_classCallCheck3["default"])(this,reducer),_initialiseProps.call(this),this.metaReducer=option.metaReducer},_initialiseProps=function _initialiseProps(){var _this=this;this.init=function(state,option){return _this.metaReducer.init(state,(0,_data.getInitState)(option))}},_temp);module.exports=exports["default"]},"1691":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{"value":!0});var _edfUtils=__webpack_require__(12);exports["default"]={"user":{"resetPassword":function resetPassword(option){return _edfUtils.fetch.post("/v1/edf/user/resetPassword",option)},"existsMobile":function existsMobile(mobile){return _edfUtils.fetch.post("/v1/edf/user/existsMobile",{"mobile":mobile})}},"captcha":{"fetch":function fetch(mobile){return _edfUtils.fetch.post("/v1/edf/captcha/fetch",mobile)},"validate":function validate(captcha){return _edfUtils.fetch.post("/v1/edf/captcha/validate",captcha)}}},module.exports=exports["default"]}});