webpackJsonp([8,60],{"67":function(module,exports){var charenc={"utf8":{"stringToBytes":function(str){return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)))},"bytesToString":function(bytes){return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)))}},"bin":{"stringToBytes":function(str){for(var bytes=[],i=0;i<str.length;i++)bytes.push(255&str.charCodeAt(i));return bytes},"bytesToString":function(bytes){for(var str=[],i=0;i<bytes.length;i++)str.push(String.fromCharCode(bytes[i]));return str.join("")}}};module.exports=charenc},"113":function(module,exports){!function(){var base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",crypt={"rotl":function(n,b){return n<<b|n>>>32-b},"rotr":function(n,b){return n<<32-b|n>>>b},"endian":function(n){if(n.constructor==Number)return 16711935&crypt.rotl(n,8)|4278255360&crypt.rotl(n,24);for(var i=0;i<n.length;i++)n[i]=crypt.endian(n[i]);return n},"randomBytes":function(n){for(var bytes=[];n>0;n--)bytes.push(Math.floor(256*Math.random()));return bytes},"bytesToWords":function(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words},"wordsToBytes":function(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes},"bytesToHex":function(bytes){for(var hex=[],i=0;i<bytes.length;i++)hex.push((bytes[i]>>>4).toString(16)),hex.push((15&bytes[i]).toString(16));return hex.join("")},"hexToBytes":function(hex){for(var bytes=[],c=0;c<hex.length;c+=2)bytes.push(parseInt(hex.substr(c,2),16));return bytes},"bytesToBase64":function(bytes){for(var base64=[],i=0;i<bytes.length;i+=3)for(var triplet=bytes[i]<<16|bytes[i+1]<<8|bytes[i+2],j=0;j<4;j++)8*i+6*j<=8*bytes.length?base64.push(base64map.charAt(triplet>>>6*(3-j)&63)):base64.push("=");return base64.join("")},"base64ToBytes":function(base64){base64=base64.replace(/[^A-Z0-9+\/]/gi,"");for(var bytes=[],i=0,imod4=0;i<base64.length;imod4=++i%4)0!=imod4&&bytes.push((base64map.indexOf(base64.charAt(i-1))&Math.pow(2,-2*imod4+8)-1)<<2*imod4|base64map.indexOf(base64.charAt(i))>>>6-2*imod4);return bytes}};module.exports=crypt}()},"119":function(module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}},"121":function(module,exports,__webpack_require__){!function(){var crypt=__webpack_require__(113),utf8=__webpack_require__(67).utf8,isBuffer=__webpack_require__(119),bin=__webpack_require__(67).bin,md5=function(message,options){message.constructor==String?message=options&&"binary"===options.encoding?bin.stringToBytes(message):utf8.stringToBytes(message):isBuffer(message)?message=Array.prototype.slice.call(message,0):Array.isArray(message)||(message=message.toString());for(var m=crypt.bytesToWords(message),l=8*message.length,a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<m.length;i++)m[i]=16711935&(m[i]<<8|m[i]>>>24)|4278255360&(m[i]<<24|m[i]>>>8);m[l>>>5]|=128<<l%32,m[(l+64>>>9<<4)+14]=l;for(var FF=md5._ff,GG=md5._gg,HH=md5._hh,II=md5._ii,i=0;i<m.length;i+=16){var aa=a,bb=b,cc=c,dd=d;a=FF(a,b,c,d,m[i+0],7,-680876936),d=FF(d,a,b,c,m[i+1],12,-389564586),c=FF(c,d,a,b,m[i+2],17,606105819),b=FF(b,c,d,a,m[i+3],22,-1044525330),a=FF(a,b,c,d,m[i+4],7,-176418897),d=FF(d,a,b,c,m[i+5],12,1200080426),c=FF(c,d,a,b,m[i+6],17,-1473231341),b=FF(b,c,d,a,m[i+7],22,-45705983),a=FF(a,b,c,d,m[i+8],7,1770035416),d=FF(d,a,b,c,m[i+9],12,-1958414417),c=FF(c,d,a,b,m[i+10],17,-42063),b=FF(b,c,d,a,m[i+11],22,-1990404162),a=FF(a,b,c,d,m[i+12],7,1804603682),d=FF(d,a,b,c,m[i+13],12,-40341101),c=FF(c,d,a,b,m[i+14],17,-1502002290),b=FF(b,c,d,a,m[i+15],22,1236535329),a=GG(a,b,c,d,m[i+1],5,-165796510),d=GG(d,a,b,c,m[i+6],9,-1069501632),c=GG(c,d,a,b,m[i+11],14,643717713),b=GG(b,c,d,a,m[i+0],20,-373897302),a=GG(a,b,c,d,m[i+5],5,-701558691),d=GG(d,a,b,c,m[i+10],9,38016083),c=GG(c,d,a,b,m[i+15],14,-660478335),b=GG(b,c,d,a,m[i+4],20,-405537848),a=GG(a,b,c,d,m[i+9],5,568446438),d=GG(d,a,b,c,m[i+14],9,-1019803690),c=GG(c,d,a,b,m[i+3],14,-187363961),b=GG(b,c,d,a,m[i+8],20,1163531501),a=GG(a,b,c,d,m[i+13],5,-1444681467),d=GG(d,a,b,c,m[i+2],9,-51403784),c=GG(c,d,a,b,m[i+7],14,1735328473),b=GG(b,c,d,a,m[i+12],20,-1926607734),a=HH(a,b,c,d,m[i+5],4,-378558),d=HH(d,a,b,c,m[i+8],11,-2022574463),c=HH(c,d,a,b,m[i+11],16,1839030562),b=HH(b,c,d,a,m[i+14],23,-35309556),a=HH(a,b,c,d,m[i+1],4,-1530992060),d=HH(d,a,b,c,m[i+4],11,1272893353),c=HH(c,d,a,b,m[i+7],16,-155497632),b=HH(b,c,d,a,m[i+10],23,-1094730640),a=HH(a,b,c,d,m[i+13],4,681279174),d=HH(d,a,b,c,m[i+0],11,-358537222),c=HH(c,d,a,b,m[i+3],16,-722521979),b=HH(b,c,d,a,m[i+6],23,76029189),a=HH(a,b,c,d,m[i+9],4,-640364487),d=HH(d,a,b,c,m[i+12],11,-421815835),c=HH(c,d,a,b,m[i+15],16,530742520),b=HH(b,c,d,a,m[i+2],23,-995338651),a=II(a,b,c,d,m[i+0],6,-198630844),d=II(d,a,b,c,m[i+7],10,1126891415),c=II(c,d,a,b,m[i+14],15,-1416354905),b=II(b,c,d,a,m[i+5],21,-57434055),a=II(a,b,c,d,m[i+12],6,1700485571),d=II(d,a,b,c,m[i+3],10,-1894986606),c=II(c,d,a,b,m[i+10],15,-1051523),b=II(b,c,d,a,m[i+1],21,-2054922799),a=II(a,b,c,d,m[i+8],6,1873313359),d=II(d,a,b,c,m[i+15],10,-30611744),c=II(c,d,a,b,m[i+6],15,-1560198380),b=II(b,c,d,a,m[i+13],21,1309151649),a=II(a,b,c,d,m[i+4],6,-145523070),d=II(d,a,b,c,m[i+11],10,-1120210379),c=II(c,d,a,b,m[i+2],15,718787259),b=II(b,c,d,a,m[i+9],21,-343485551),a=a+aa>>>0,b=b+bb>>>0,c=c+cc>>>0,d=d+dd>>>0}return crypt.endian([a,b,c,d])};md5._ff=function(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._gg=function(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._hh=function(a,b,c,d,x,s,t){var n=a+(b^c^d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._ii=function(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._blocksize=16,md5._digestsize=16,module.exports=function(message,options){if(void 0===message||null===message)throw new Error("Illegal argument "+message);var digestbytes=crypt.wordsToBytes(md5(message,options));return options&&options.asBytes?digestbytes:options&&options.asString?bin.bytesToString(digestbytes):crypt.bytesToHex(digestbytes)}}()},"427":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function config(options){options&&(0,_extends3["default"])(_options,options)}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_webapi=__webpack_require__(1749),_webapi2=_interopRequireDefault(_webapi),_options={"webapi":_webapi2["default"]};config.current=_options,exports["default"]=config,module.exports=exports["default"]},"730":function(module,exports){"use strict";function getMeta(){return{"name":"root","component":"div","className":"ttk-edf-app-my-setting-change-password","children":{"name":"form","component":"Form","className":"changePassword","children":[{"name":"oldPassword","component":"Form.Item","colon":!1,"label":"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801","validateStatus":"{{data.error.oldPassword?'error':'success'}}","help":"{{data.error.oldPassword}}","children":{"name":"input","component":"Input","type":"password","value":"{{data.form.oldPassword}}","style":{"width":"270px","height":"30px"},"onFocus":'{{function() {$setField("data.error.oldPassword",undefined)}}}',"onBlur":"{{function (e){$fieldChange('data.form.oldPassword',e.target.value)}}}"}},{"name":"password","component":"Form.Item","colon":!1,"label":"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801","validateStatus":"{{data.error.password?'error':'success'}}","help":"{{data.error.password}}","children":{"name":"input","type":"password","value":"{{data.form.password}}","placeholder":"6-20\u4f4d\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57","component":"Input","style":{"width":"270px","height":"30px"},"onFocus":'{{function() {$setField("data.error.password",undefined)}}}',"onBlur":"{{function (e){$fieldChange('data.form.password',e.target.value)}}}"}},{"name":"rePassword","component":"Form.Item","colon":!1,"label":"\u8bf7\u786e\u8ba4\u65b0\u5bc6\u7801","validateStatus":"{{data.error.rePassword?'error':'success'}}","help":"{{data.error.rePassword}}","children":{"name":"input","value":"{{data.form.rePassword}}","type":"password","component":"Input","style":{"width":"270px","height":"30px"},"onFocus":'{{function() {$setField("data.error.rePassword",undefined)}}}',"onBlur":"{{function (e){$fieldChange('data.form.rePassword',e.target.value)}}}"}}]}}}function getInitState(){return{"data":{"form":{"oldPassword":"","password":"","rePassword":""},"error":{"oldPassword":"","password":"","rePassword":""}}}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports.getMeta=getMeta,exports.getInitState=getInitState},"1746":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaAction=new _edfMetaEngine.action(option),o=new action((0,_extends3["default"])({},option,{"metaAction":metaAction})),ret=(0,_extends3["default"])({},metaAction,o);return metaAction.config({"metaHandlers":ret}),ret}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_getIterator2=__webpack_require__(28),_getIterator3=_interopRequireDefault(_getIterator2),_regenerator=__webpack_require__(19),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(18),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _react=__webpack_require__(1),_edfMetaEngine=(_interopRequireDefault(_react),__webpack_require__(5)),_config=__webpack_require__(427),_config2=_interopRequireDefault(_config),_md=__webpack_require__(121),_md2=_interopRequireDefault(_md),action=function action(option){var _this=this;(0,_classCallCheck3["default"])(this,action),this.onInit=function(_ref){var component=_ref.component,injections=_ref.injections;_this.component=component,_this.component.props.setOkListener&&_this.component.props.setOkListener(_this.onOk),_this.injections=injections,injections.reduce("init")},this.onOk=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee(){var form,info,currentUser,id,password,response,level;return _regenerator2["default"].wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return form=_this.metaAction.gf("data.form").toJS(),_context.next=3,_this.check([{"path":"data.form.oldPassword","value":form.oldPassword},{"path":"data.form.password","value":form.password},{"path":"data.form.rePassword","value":form.rePassword}]);case 3:if(info=_context.sent){_context.next=6;break}return _context.abrupt("return",!1);case 6:return currentUser=_this.metaAction.context.get("currentUser"),id=currentUser&&currentUser.id,password=form.password,form.oldPassword=(0,_md2["default"])(form.oldPassword+"*the3Kingdom*"),form.password=(0,_md2["default"])(form.password+"*the3Kingdom*"),_context.next=13,_this.webapi.user.modifyPassword({"id":id,"oldPassword":form.oldPassword,"password":form.password,"passwordStrength":_this.pwdLevel(password)});case 13:if(response=_context.sent,!response){_context.next=21;break}return _this.metaAction.toast("success","\u4fee\u6539\u5bc6\u7801\u6210\u529f"),sessionStorage["password"]=form.password,level=_this.pwdLevel(password),_context.abrupt("return",{"passwordStrength":level});case 21:return _context.abrupt("return",!1);case 22:case"end":return _context.stop()}},_callee,_this)})),this.pwdLevel=function(pwd){var level=0,regCn=/[\xb7\uff01#\uffe5\uff08\u2014\u2014\uff09\uff1a\uff1b\u201c\u201d\u2018\u3001\uff0c|\u300a\u3002\u300b\uff1f\u3001\u3010\u3011[\]]/im;return/[0-9]/.test(pwd)&&level++,/[a-zA-Z]/.test(pwd)&&level++,(/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/.test(pwd)||regCn.test(pwd))&&level++,level},this.fieldChange=function(){var _ref3=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee2(fieldPath,value){return _regenerator2["default"].wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this.check([{"path":fieldPath,"value":value}]);case 2:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x,_x2){return _ref3.apply(this,arguments)}}(),this.check=function(){var _ref4=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee3(fieldPathAndValues){var checkResults,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,o,r,json,hasError;return _regenerator2["default"].wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(fieldPathAndValues){_context3.next=2;break}return _context3.abrupt("return");case 2:checkResults=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context3.prev=6,_iterator=(0,_getIterator3["default"])(fieldPathAndValues);case 8:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context3.next=40;break}if(o=_step.value,r=(0,_extends3["default"])({},o),"data.form.oldPassword"!=o.path){_context3.next=20;break}return _context3.t0=_extends3["default"],_context3.t1=r,_context3.next=16,_this.oldPassword(o.value);case 16:_context3.t2=_context3.sent,(0,_context3.t0)(_context3.t1,_context3.t2),_context3.next=36;break;case 20:if("data.form.password"!=o.path){_context3.next=29;break}return _context3.t3=_extends3["default"],_context3.t4=r,_context3.next=25,_this.password(o.value);case 25:_context3.t5=_context3.sent,(0,_context3.t3)(_context3.t4,_context3.t5),_context3.next=36;break;case 29:if("data.form.rePassword"!=o.path){_context3.next=36;break}return _context3.t6=_extends3["default"],_context3.t7=r,_context3.next=34,_this.rePassword(o.value);case 34:_context3.t8=_context3.sent,(0,_context3.t6)(_context3.t7,_context3.t8);case 36:checkResults.push(r);case 37:_iteratorNormalCompletion=!0,_context3.next=8;break;case 40:_context3.next=46;break;case 42:_context3.prev=42,_context3.t9=_context3["catch"](6),_didIteratorError=!0,_iteratorError=_context3.t9;case 46:_context3.prev=46,_context3.prev=47,!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]();case 49:if(_context3.prev=49,!_didIteratorError){_context3.next=52;break}throw _iteratorError;case 52:return _context3.finish(49);case 53:return _context3.finish(46);case 54:return json={},hasError=!0,checkResults.forEach(function(o){json[o.path]=o.value,json[o.errorPath]=o.message,o.message&&(hasError=!1)}),_this.metaAction.sfs(json),_context3.abrupt("return",hasError);case 59:case"end":return _context3.stop()}},_callee3,_this,[[6,42,46,54],[47,,49,53]])}));return function(_x3){return _ref4.apply(this,arguments)}}(),this.oldPassword=function(){var _ref5=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee4(password){var message;return _regenerator2["default"].wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return password||(message="\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"),_context4.abrupt("return",{"errorPath":"data.error.oldPassword","message":message});case 2:case"end":return _context4.stop()}},_callee4,_this)}));return function(_x4){return _ref5.apply(this,arguments)}}(),this.password=function(){var _ref6=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee5(password){var message;return _regenerator2["default"].wrap(function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return password?/(?=^.{6,20}$)((?=.*[a-zA-Z]){1})((?=.*[0-9]){1})/.test(password)||(message="6-20\u4f4d\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57"):message="\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_context5.abrupt("return",{"errorPath":"data.error.password","message":message});case 2:case"end":return _context5.stop()}},_callee5,_this)}));return function(_x5){return _ref6.apply(this,arguments)}}(),this.rePassword=function(){var _ref7=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee6(password){var message,form;return _regenerator2["default"].wrap(function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return form=_this.metaAction.gf("data.form").toJS(),password?/(?=^.{6,20}$)((?=.*[a-zA-Z]){1})((?=.*[0-9]){1})/.test(password)?password!=form.password&&(message="\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4",console.log(password,form.password)):message="6-20\u4f4d\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57":message="\u8bf7\u91cd\u65b0\u8f93\u5165\u65b0\u5bc6\u7801",_context6.abrupt("return",{"errorPath":"data.error.rePassword","message":message});case 3:case"end":return _context6.stop()}},_callee6,_this)}));return function(_x6){return _ref7.apply(this,arguments)}}(),this.metaAction=option.metaAction,this.config=_config2["default"].current,this.webapi=this.config.webapi};module.exports=exports["default"]},"1747":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=void 0;var _dec,_class,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_possibleConstructorReturn2=__webpack_require__(7),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(6),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_edfMetaEngine=(_interopRequireDefault(_react),__webpack_require__(5)),_index=__webpack_require__(731),_index2=_interopRequireDefault(_index),C=(_dec=(0,_edfMetaEngine.wrapper)(_index2["default"]),_dec(_class=function(_Component){function C(){return(0,_classCallCheck3["default"])(this,C),(0,_possibleConstructorReturn3["default"])(this,_Component.apply(this,arguments))}return(0,_inherits3["default"])(C,_Component),C.prototype.render=function render(){return this.props.monkeyKing((0,_extends3["default"])({},this.props,{"path":"root"}))},C}(_react.Component))||_class);exports["default"]=C,module.exports=exports["default"]},"1748":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaReducer=new _edfMetaEngine.reducer(option),o=new reducer((0,_extends3["default"])({},option,{"metaReducer":metaReducer}));return(0,_extends3["default"])({},metaReducer,o)}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _edfMetaEngine=(__webpack_require__(11),__webpack_require__(5)),_config=__webpack_require__(427),_config2=_interopRequireDefault(_config),_data=__webpack_require__(730),reducer=function reducer(option){var _this=this;(0,_classCallCheck3["default"])(this,reducer),this.init=function(state,option){var initState=(0,_data.getInitState)();return _this.metaReducer.init(state,initState)},this.metaReducer=option.metaReducer,this.config=_config2["default"].current};module.exports=exports["default"]},"1749":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{"value":!0});var _edfUtils=__webpack_require__(12);exports["default"]={"user":{"modifyPassword":function modifyPassword(option){return _edfUtils.fetch.post("/v1/edf/user/modifyPassword",option)}}},module.exports=exports["default"]}});