webpackJsonp([10,60],{"445":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function config(options){options&&(0,_extends3["default"])(_options,options)}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_webapi=__webpack_require__(1820),_webapi2=_interopRequireDefault(_webapi),_options={"webapi":_webapi2["default"]};config.current=_options,exports["default"]=config,module.exports=exports["default"]},"762":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getMeta(){return{"name":"root","component":"Layout","className":"ttk-tax-app-invoicedetail","children":[{"name":"ttk-tax-app-invoicedetail-top","component":"::div","className":"ttk-tax-app-invoicedetail-top","children":"{{$getFilterOption()}}"},{"name":"ttk-tax-app-invoicedetail-content","component":"::div","className":"ttk-tax-app-invoicedetail-content","children":[{"name":"dataGrid","component":"DataGrid","ellipsis":!0,"headerHeight":37,"rowHeight":37,"isColumnResizing":!1,"loading":"{{data.other.loading}}","rowsCount":"{{$getListRowsCount()}}","columns":"{{$getColumns()}}"}]},{"name":"footer","className":"ttk-tax-app-invoicedetail-footer","component":"Layout","children":[{"name":"pagination","component":"Pagination","pageSizeOptions":["20","50","100","200"],"pageSize":"{{data.page.pageSize}}","current":"{{data.page.currentPage}}","total":"{{data.page.total}}","onChange":"{{$pageChanged}}","onShowSizeChange":"{{$pageChanged}}"}]}]}}function getInitState(){var _other;return{"data":{"form":{"code":"","name":"","sbsqq":(0,_moment2["default"])().format("YYYY-MM")},"list":[],"other":(_other={"error":{},"loading":!1,"isShow":!1,"isChanged":!1,"page":{"currentPage":1,"pageSize":20},"sfdkList":[{"id":"all","name":"\u5168\u90e8"},{"id":0,"name":"\u5426"},{"id":1,"name":"\u662f"}]},(0,_defineProperty3["default"])(_other,"sfdkList",[{"id":"all","name":"\u5168\u90e8"},{"id":!1,"name":"\u4e0d\u4e88\u62b5\u6263"},{"id":!0,"name":"\u62b5\u6263"}]),(0,_defineProperty3["default"])(_other,"kplxList",[{"id":"all","name":"\u5168\u90e8"},{"id":!1,"name":"\u81ea\u5f00"},{"id":!0,"name":"\u4ee3\u5f00"}]),_other),"page":{"current":1,"total":1,"pageSize":50}}}}Object.defineProperty(exports,"__esModule",{"value":!0});var _defineProperty2=__webpack_require__(9),_defineProperty3=_interopRequireDefault(_defineProperty2);exports.getMeta=getMeta,exports.getInitState=getInitState;var _moment=__webpack_require__(14),_moment2=_interopRequireDefault(_moment);__webpack_require__(133)},"763":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getGridOption(){return{"dataGrid":{"path":"data.list","selectFieldName":"selected","cellClassName":"app-archives-list-cell","emptyRow":{},"getColNames":function getColNames(gf){return[]},"cellIsReadonly":function cellIsReadonly(cellPosition,path,gf){return!1}}}}function actionCreator(option){return{"gridAction":new _edfComponent.GridDecorator.action((0,_extends3["default"])({},option,{"gridOption":getGridOption()}))}}function reducerCreator(option){return{"gridReducer":new _edfComponent.GridDecorator.reducer((0,_extends3["default"])({},option,{"gridOption":getGridOption()}))}}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_edfComponent=__webpack_require__(22);exports["default"]={"actionCreator":actionCreator,"reducerCreator":reducerCreator},module.exports=exports["default"]},"1816":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaAction=new _edfMetaEngine.action(option),extendAction=_extend2["default"].actionCreator((0,_extends3["default"])({},option,{"metaAction":metaAction})),voucherAction=_edfComponent.FormDecorator.actionCreator((0,_extends3["default"])({},option,{"metaAction":metaAction})),o=new action((0,_extends3["default"])({},option,{"metaAction":metaAction,"extendAction":extendAction,"voucherAction":voucherAction})),ret=(0,_extends3["default"])({},metaAction,extendAction.gridAction,voucherAction,o);return metaAction.config({"metaHandlers":ret}),ret}Object.defineProperty(exports,"__esModule",{"value":!0});var _extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_regenerator=__webpack_require__(19),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(18),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_edfMetaEngine=__webpack_require__(5),_edfComponent=__webpack_require__(22),_config=__webpack_require__(445),_config2=_interopRequireDefault(_config),_extend=__webpack_require__(763),_extend2=_interopRequireDefault(_extend),_immutable=__webpack_require__(11),_edfUtils=__webpack_require__(12),_edfUtils2=_interopRequireDefault(_edfUtils),_renderColumns=__webpack_require__(1819),_renderColumns2=_interopRequireDefault(_renderColumns),FormItem=_edfComponent.Form.Item,Option=_edfComponent.Select.Option,action=function action(option){var _this=this;(0,_classCallCheck3["default"])(this,action),this.onInit=function(_ref){var component=_ref.component,injections=_ref.injections;_this.extendAction.gridAction.onInit({"component":component,"injections":injections}),_this.component=component,_this.injections=injections,_this.component.props.setOkListener&&_this.component.props.setOkListener(_this.onOk),_this.component.props.setCancelLister&&_this.component.props.setCancelLister(_this.onCancel);var addEventListener=_this.component.props.addEventListener;addEventListener&&addEventListener("onTabFocus",_this.onTabFocus.bind(_this)),injections.reduce("init"),_this.load()},this.load=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee(){var filter,response,record,kplx,initData,kpyf,rzyf;return _regenerator2["default"].wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(filter={},response={},record=void 0,kplx=void 0,initData=_this.component.props.initData,_this.selfSystemDeclare=initData.selfSystemDeclare,!initData){_context.next=20;break}if(record=initData.record,"01"!=initData.tabId&&!initData.isVattaxpayer){_context.next=13;break}return initData.isVattaxpayer?(record.hwlx_idList=record.expropriationMethod,initData.record.hwlx_idList=record.expropriationMethod):void 0==record.expropriationMethod?record.expropriationMethod=null:"generalProject"==record.expropriationMethod?record.expropriationMethod=4000100002:record.expropriationMethod=4000100001,filter={"sbsqq":initData.date.skssqq.replace(/-/g,""),"sbsqz":initData.date.skssqz.replace(/-/g,""),"sl_id":record.sl_id,"hwlx_idList":record.hwlx_idList?record.hwlx_idList:[],"jsfs_id":record.jsff_id,"zsfs_id":record.expropriationMethod&&!initData.isVattaxpayer?record.expropriationMethod:null,"kplx":initData.isVattaxpayer&&void 0!=record.dk?record.dk:null,"fplx_id":initData.isVattaxpayer&&void 0!=record.fplx_id?record.fplx_id:null,"isInit":!0,"page":{"pageSize":20,"currentPage":1}},_context.next=10,_this.webapi.fpCard.xxfpmx(filter);case 10:response=_context.sent,_context.next=20;break;case 13:if("02"!=initData.tabId){_context.next=20;break}return kpyf=void 0,rzyf=void 0,"authentication"==initData.record.expropriationMethod?(rzyf=initData.date.skssqq.replace(/-/g,"").substring(0,6),kpyf=void 0):(kpyf=initData.date.skssqq.replace(/-/g,"").substring(0,6),rzyf=void 0),filter={"fplx_id":record.fplx_id,"kpyf":kpyf,"rzyf":rzyf,"sfdk":!!rzyf||null,"isInit":!0,"page":{"pageSize":20,"currentPage":1}},_context.next=19,_this.webapi.fpCard.jxfpmx(filter);case 19:response=_context.sent;case 20:response&&(response.initData=initData,_this.injections.reduce("load",response));case 21:case"end":return _context.stop()}},_callee,_this)})),this.getListRowsCount=function(){return _this.metaAction.gf("data.list").size},this.onCancel=function(){var isChanged=_this.metaAction.gf("data.other.isChanged");return!isChanged||"isChanged"},this.onFieldChange=function(){var _ref3=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee2(value,type,date,refresh){var response,start,dateFilter,dateFilter1,dateFilter2,dateFilters,form,filter,initData,hwlx_idList,page;return _regenerator2["default"].wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(void 0!=value){_context2.next=2;break}return _context2.abrupt("return",!1);case 2:if("dateL"==date&&"sbsqz"==type||_this.metaAction.sf("data.other.isShow",!1),response=void 0,start=void 0,dateFilter=void 0,dateFilter1=void 0,dateFilter2=void 0,dateFilters=void 0,refresh){_context2.next=8;break}if(!("hwlx"==type&&value.length>3)){_context2.next=7;break}return _context2.abrupt("return",!1);case 7:"date"==date?(start=value.startOf("month"),start=_edfUtils2["default"].moment.momentToString(start,"YYYY-MM-DD"),_this.metaAction.sf("data.form."+type,(0,_immutable.fromJS)(start)),_this.metaAction.sf("data.form.sbsqz",(0,_immutable.fromJS)(start))):"dateL"==date?("sbsqq"==type?(start=value.startOf("month"),_this.metaAction.sf("data.other.isShow",!0)):start=value.endOf("month"),start=_edfUtils2["default"].moment.momentToString(start,"YYYY-MM-DD"),_this.metaAction.sf("data.form."+type,(0,_immutable.fromJS)(start))):"dateJX"==date?(start=value.startOf("month"),start=_edfUtils2["default"].moment.momentToString(start,"YYYY-MM-DD"),"kpyf"==type?(_this.metaAction.sf("data.form."+type,(0,_immutable.fromJS)(start)),_this.metaAction.sf("data.form.rzyf",void 0)):"rzyf"==type&&(_this.metaAction.sf("data.form."+type,(0,_immutable.fromJS)(start)),_this.metaAction.sf("data.form.kpyf",void 0))):_this.metaAction.sf("data.form."+type,(0,_immutable.fromJS)(value));case 8:if(form=_this.metaAction.gf("data.form")&&_this.metaAction.gf("data.form").toJS(),filter=void 0,initData=_this.component.props.initData,form.sbsqq&&"01"==initData.tabId&&(dateFilter=_edfUtils2["default"].moment.stringToMoment(form.sbsqq),dateFilter.startOf("month"),dateFilter1=_edfUtils2["default"].moment.momentToString(dateFilter,"YYYY-MM-DD").replace(/-/g,""),initData.isVattaxpayer?(dateFilters=_edfUtils2["default"].moment.stringToMoment(form.sbsqz),dateFilters.endOf("month"),dateFilter2=_edfUtils2["default"].moment.momentToString(dateFilters,"YYYY-MM-DD").replace(/-/g,"")):(dateFilter.endOf("month"),dateFilter2=_edfUtils2["default"].moment.momentToString(dateFilter,"YYYY-MM-DD").replace(/-/g,""))),hwlx_idList=[],form.hwlx&&(Array.isArray(form.hwlx)?hwlx_idList=form.hwlx:hwlx_idList.push(form.hwlx)),page=_this.metaAction.gf("data.page"),page=page.size?page.toJS():page,refresh&&"refresh"!=refresh?page=refresh:page.currentPage=1,"01"!=initData.tabId&&!initData.isVattaxpayer){_context2.next=23;break}return filter={"sbsqq":dateFilter1,"sbsqz":dateFilter2,"sl_id":"all"==form.sl?null:form.sl,"hwlx_idList":hwlx_idList,"jsfs_id":"all"==form.jsfs?null:form.jsfs,"zsfs_id":"all"==form.zsfs||initData.isVattaxpayer?null:form.zsfs,"kplx":initData.isVattaxpayer?"all"==form.kplx?null:form.kplx:null,"fplx_id":initData.isVattaxpayer?"all"==form.fplx?null:form.fplx:null,"isInit":!1,"page":{"currentPage":page.currentPage,"pageSize":page.pageSize}},_context2.next=20,_this.webapi.fpCard.xxfpmx(filter);case 20:response=_context2.sent,_context2.next=28;break;case 23:if("02"!=initData.tabId){_context2.next=28;break}return filter={"fplx_id":"all"===form.fplx?null:form.fplx,"kpyf":form.kpyf?form.kpyf.replace(/-/g,"").substring(0,6):form.kpyf,"rzyf":form.rzyf?form.rzyf.replace(/-/g,"").substring(0,6):form.rzyf,"sfdk":"all"===form.sfdk?null:form.sfdk,"isInit":!1,"page":{"currentPage":page.currentPage,"pageSize":page.pageSize}},_context2.next=27,_this.webapi.fpCard.jxfpmx(filter);case 27:response=_context2.sent;case 28:response.initData=initData,response&&_this.injections.reduce("load",response);case 30:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x,_x2,_x3,_x4){return _ref3.apply(this,arguments)}}(),this.selectValue=function(){var _ref4=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee3(index,value,type){var initData,isVattaxpayer,filter,list,id,hwlx_id,jsfs_id,zsfs_id,ts,kplx,sfdk,response;return _regenerator2["default"].wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(void 0!=value){_context3.next=2;break}return _context3.abrupt("return",!1);case 2:if(initData=_this.component.props.initData,isVattaxpayer=_this.component.props.initData.isVattaxpayer,filter={},list=_this.metaAction.gf("data.list").toJS(),id=void 0,hwlx_id=void 0,jsfs_id=void 0,zsfs_id=void 0,ts=void 0,kplx=void 0,sfdk=void 0,id=list[index].id,ts=list[index].ts,"hwlx"==type&&(hwlx_id=value),"jsfs"==type&&(jsfs_id=value),"zsfs"==type&&(zsfs_id=value),"sfdk"==type&&(sfdk=value),response=void 0,isVattaxpayer&&"kplx"==type&&(kplx=value?"\u4ee3\u5f00":"\u81ea\u5f00"),"01"!=initData.tabId){_context3.next=20;break}return filter={"id":id,"hwlx_id":hwlx_id,"jsfs_id":jsfs_id,"zsfs_id":zsfs_id,"kplx":kplx,"ts":ts},_context3.next=17,_this.webapi.fpCard.xxfpmxUpdate(filter);case 17:response=_context3.sent,_context3.next=24;break;case 20:return filter={"id":id,"sfdk":sfdk,"ts":ts},_context3.next=23,_this.webapi.fpCard.jxfpmxUpdate(filter);case 23:response=_context3.sent;case 24:response&&(_this.metaAction.sf("data.other.isChanged",!0),_this.onFieldChange("refresh",null,null,"refresh"));case 25:case"end":return _context3.stop()}},_callee3,_this)}));return function(_x5,_x6,_x7){return _ref4.apply(this,arguments)}}(),this.handleDisabledDate=function(current){if(current){var enableTime=_this.metaAction.gf("data.form.sbsqq");return enableTime&&(enableTime=enableTime.replace(/-/g,"").substring(0,6)),current&&current.format("YYYYMM")<enableTime}},this.dateWindowChange=function(type,status){"next"==type&&_this.metaAction.sf("data.other.isShow",status)},this.getFilterOption=function(){var initData=_this.component.props.initData,sbsqq=void 0,rzyf=void 0,kpyf=void 0,sbsqz=void 0,form=_this.metaAction.gf("data.form")&&_this.metaAction.gf("data.form").toJS(),isShow=_this.metaAction.gf("data.other.isShow");return form.sbsqq&&(sbsqq=_edfUtils2["default"].moment.stringToMoment(form.sbsqq)),form.sbsqz&&(sbsqz=_edfUtils2["default"].moment.stringToMoment(form.sbsqz)),form.rzyf&&(rzyf=_edfUtils2["default"].moment.stringToMoment(form.rzyf.substring(0,7))),form.kpyf&&(kpyf=_edfUtils2["default"].moment.stringToMoment(form.kpyf.substring(0,7))),initData&&initData.isVattaxpayer?(console.log(initData.isVattaxpayer),_react2["default"].createElement("div",{"className":"invoicedetail"},_react2["default"].createElement(FormItem,{"className":"invoicedetail-item invoicedetail-mounth","label":"\u7533\u62a5\u5c5e\u671f"},_react2["default"].createElement(_edfComponent.DatePicker.MonthPicker,{"onChange":function onChange(value){return _this.onFieldChange(value,"sbsqq","dateL")},"onOpenChange":function onOpenChange(status){return _this.dateWindowChange("pre",status)},"value":sbsqq}),_react2["default"].createElement("span",{"className":"text"},"\u81f3"),_react2["default"].createElement(_edfComponent.DatePicker.MonthPicker,{"open":isShow,"onOpenChange":function onOpenChange(status){return _this.dateWindowChange("next",status)},"disabledDate":function disabledDate(value){return _this.handleDisabledDate(value)},"onChange":function onChange(value){return _this.onFieldChange(value,"sbsqz","dateL")},"value":sbsqz})),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item fplxl-item","label":"\u53d1\u7968\u7c7b\u578b"},_react2["default"].createElement(_edfComponent.Select,{"value":form.fplx,"onChange":function onChange(value){return _this.onFieldChange(value,"fplx")}},_this.selectOption("fplxList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item sl-item","label":"\u7a0e\u7387"},_react2["default"].createElement(_edfComponent.Select,{"value":form.sl,"onChange":function onChange(value){return _this.onFieldChange(value,"sl")}},_this.selectOption("slList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item hwlx-item","label":"\u8d27\u7269\u7c7b\u578b"},_react2["default"].createElement(_edfComponent.Select,{"mode":"tags","maxTagCount":3,"value":form.hwlx,"onChange":function onChange(value){return _this.onFieldChange(value,"hwlx")}},_this.selectOption("hwlxList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item little-item","label":"\u5f00\u7968\u7c7b\u578b"},_react2["default"].createElement(_edfComponent.Select,{"value":form.kplx,"onChange":function onChange(value){return _this.onFieldChange(value,"kplx")}},_this.selectOption("kplxList"))))):initData&&"02"==initData.tabId?_react2["default"].createElement("div",{"className":"invoicedetail"},_react2["default"].createElement(FormItem,{"className":"invoicedetail-item","label":"\u53d1\u7968\u7c7b\u578b"},_react2["default"].createElement(_edfComponent.Select,{"value":form.fplx,"onChange":function onChange(value){return _this.onFieldChange(value,"fplx")}},_this.selectOption("fplxList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item","label":"\u5f00\u7968\u6708\u4efd"},_react2["default"].createElement(_edfComponent.DatePicker.MonthPicker,{"value":kpyf,"placeholder":"","onChange":function onChange(value){return _this.onFieldChange(value,"kpyf","dateJX")}})),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item","label":"\u8ba4\u8bc1\u6708\u4efd"},_react2["default"].createElement(_edfComponent.DatePicker.MonthPicker,{"value":rzyf,"placeholder":"","onChange":function onChange(value){return _this.onFieldChange(value,"rzyf","dateJX")}})),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item","label":"\u662f\u5426\u62b5\u6263"},_react2["default"].createElement(_edfComponent.Select,{"value":form.sfdk,"onChange":function onChange(value){return _this.onFieldChange(value,"sfdk")}},_this.selectOption("sfdkList")))):_react2["default"].createElement("div",{"className":"invoicedetail"},_react2["default"].createElement(FormItem,{"className":"invoicedetail-item","label":"\u7533\u62a5\u5c5e\u671f"},_react2["default"].createElement(_edfComponent.DatePicker.MonthPicker,{"value":sbsqq,"onChange":function onChange(value){return _this.onFieldChange(value,"sbsqq","date")}})),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item sll-item","label":"\u7a0e\u7387"},_react2["default"].createElement(_edfComponent.Select,{"value":form.sl,"onChange":function onChange(value){return _this.onFieldChange(value,"sl")}},_this.selectOption("slList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item hwlx-item","label":"\u8d27\u7269\u7c7b\u578b"},_react2["default"].createElement(_edfComponent.Select,{"mode":"tags","maxTagCount":3,"value":form.hwlx,"onChange":function onChange(value){return _this.onFieldChange(value,"hwlx")}},_this.selectOption("hwlxList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item js-item","label":"\u8ba1\u7a0e\u65b9\u5f0f"},_react2["default"].createElement(_edfComponent.Select,{"value":form.jsfs,"onChange":function onChange(value){return _this.onFieldChange(value,"jsfs")}},_this.selectOption("jsfsList"))),_react2["default"].createElement(FormItem,{"className":"invoicedetail-item js-item","label":"\u5f81\u6536\u65b9\u5f0f"},_react2["default"].createElement(_edfComponent.Select,{"value":form.zsfs,"onChange":function onChange(value){return _this.onFieldChange(value,"zsfs")}},_this.selectOption("zsfsList"))))},this.selectOption=function(params,isTable){var paramsArr=_this.metaAction.gf("data.other."+params);if(paramsArr=paramsArr&&paramsArr.toJS(),"hwlxList"!=params&&"isTable"==isTable&&paramsArr.shift(),paramsArr)return paramsArr.map(function(item,index){return _react2["default"].createElement(Option,{"key":item.id,"value":item&&item.id,"title":item&&item.name},item&&item.name)})},this.pageChanged=function(){var _ref5=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function _callee4(currentPage,pageSize){return _regenerator2["default"].wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:null!=pageSize&&void 0!=pageSize||(pageSize=_this.metaAction.gf("data.page").toJS().pageSize),_this.onFieldChange("refresh",null,null,{"currentPage":currentPage,"pageSize":pageSize});case 2:case"end":return _context4.stop()}},_callee4,_this)}));return function(_x8,_x9){return _ref5.apply(this,arguments)}}(),this.getColumns=function(){var list=_this.metaAction.gf("data.list").toJS(),other=_this.metaAction.gf("data.other").toJS(),initData=_this.component.props.initData,columnDto=[{"caption":"\u5e8f\u53f7","fieldName":"xh","idAlignType":"1000050001","width":43},{"caption":"\u53d1\u7968\u4ee3\u7801","fieldName":"fpdm","idAlignType":"1000050002","width":110},{"caption":"\u53d1\u7968\u53f7\u7801","fieldName":"fphm","idAlignType":"1000050002","width":100},{"caption":"\u5f00\u7968\u65e5\u671f","fieldName":"kprq","idAlignType":"1000050002","width":90}];return initData&&"02"==initData.tabId?columnDto=columnDto.concat([{"caption":"\u4f9b\u5e94\u5546","fieldName":"gys","idAlignType":"1000050002","width":220,"flexGrow":1},{"caption":"\u91d1\u989d","fieldName":"je","idAlignType":"1000050003","width":108},{"caption":"\u7a0e\u989d","fieldName":"se","idAlignType":"1000050003","width":108},{"caption":"\u4ef7\u7a0e\u5408\u8ba1","fieldName":"jshj","idAlignType":"1000050003","width":108},{"caption":"\u8ba4\u8bc1\uff08\u62b5\u6263\uff09\u6708\u4efd","fieldName":"rzyf","idAlignType":"1000050002","width":120},{"caption":"\u662f\u5426\u62b5\u6263","fieldName":"sfdk","idAlignType":"1000050002","width":120}]):(columnDto=columnDto.concat([{"caption":"\u5ba2\u6237","fieldName":"kh","idAlignType":"1000050002","width":220,"flexGrow":1},{"caption":"\u5546\u54c1","fieldName":"sp","idAlignType":"1000050002","width":220,"flexGrow":1},{"caption":"\u91d1\u989d","fieldName":"je","idAlignType":"1000050003","width":108},{"caption":"\u7a0e\u7387","fieldName":"sl","idAlignType":"1000050002","width":85},{"caption":"\u7a0e\u989d","fieldName":"se","idAlignType":"1000050003","width":108},{"caption":"\u4ef7\u7a0e\u5408\u8ba1","fieldName":"jshj","idAlignType":"1000050003","width":108},{"caption":"\u8d27\u7269\u7c7b\u578b","fieldName":"hwlx","fieldName_id":"hwlx_id","idAlignType":"1000050002","width":120,"flexGrow":1}]),columnDto=initData&&initData.isVattaxpayer?columnDto.concat([{"caption":"\u5f00\u7968\u7c7b\u578b","fieldName":"kplx","fieldName_id":"kplx_id","idAlignType":"1000050002","width":120,"flexGrow":1}]):columnDto.concat([{"caption":"\u8ba1\u7a0e\u65b9\u5f0f","fieldName":"jsfs","fieldName_id":"jsfs_id","idAlignType":"1000050002","width":120,"flexGrow":1},{"caption":"\u5f81\u6536\u65b9\u5f0f","fieldName":"zsfs","fieldName_id":"zsfs_id","idAlignType":"1000050002","width":120,"flexGrow":1}])),(0,_renderColumns2["default"])(columnDto,list,other,_this,initData.tabId)},this.metaAction=option.metaAction,this.extendAction=option.extendAction,this.voucherAction=option.voucherAction,this.config=_config2["default"].current,this.webapi=this.config.webapi};module.exports=exports["default"]},"1817":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=void 0;var _dec,_class,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_possibleConstructorReturn2=__webpack_require__(7),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(6),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_edfMetaEngine=(_interopRequireDefault(_react),__webpack_require__(5)),_index=__webpack_require__(764),_index2=_interopRequireDefault(_index),C=(_dec=(0,_edfMetaEngine.wrapper)(_index2["default"]),_dec(_class=function(_Component){function C(){return(0,_classCallCheck3["default"])(this,C),(0,_possibleConstructorReturn3["default"])(this,_Component.apply(this,arguments))}return(0,_inherits3["default"])(C,_Component),C.prototype.render=function render(){return this.props.monkeyKing((0,_extends3["default"])({},this.props,{"path":"root"}))},C}(_react.Component))||_class);exports["default"]=C,module.exports=exports["default"]},"1818":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function creator(option){var metaReducer=new _edfMetaEngine.reducer(option),extendReducer=_extend2["default"].reducerCreator((0,_extends3["default"])({},option,{"metaReducer":metaReducer})),o=new reducer((0,_extends3["default"])({},option,{"metaReducer":metaReducer,"extendReducer":extendReducer})),ret=(0,_extends3["default"])({},metaReducer,extendReducer.gridReducer,o);return(0,_extends3["default"])({},ret)}Object.defineProperty(exports,"__esModule",{"value":!0});var _class,_temp,_initialiseProps,_extends2=__webpack_require__(2),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2);exports["default"]=creator;var _immutable=__webpack_require__(11),_edfMetaEngine=__webpack_require__(5),_config=__webpack_require__(445),_config2=_interopRequireDefault(_config),_extend=__webpack_require__(763),_extend2=_interopRequireDefault(_extend),_data=__webpack_require__(762),reducer=(_temp=_class=function reducer(option){(0,_classCallCheck3["default"])(this,reducer),_initialiseProps.call(this),this.metaReducer=option.metaReducer,this.extendReducer=option.extendReducer,this.config=_config2["default"].current},_initialiseProps=function _initialiseProps(){var _this=this;this.init=function(state,option){var initState=(0,_data.getInitState)();return _this.metaReducer.init(state,initState)},this.load=function(state,option){if(option.list?(option.initData.isVattaxpayer&&option.list.map(function(item,index){"\u81ea\u5f00"==item.kplx?option.list[index].kplx_id=!1:"\u4ee3\u5f00"==item.kplx&&(option.list[index].kplx_id=!0)}),state=_this.metaReducer.sf(state,"data.list",(0,_immutable.fromJS)(option.list))):state=_this.metaReducer.sf(state,"data.list",(0,_immutable.fromJS)([])),option.page&&(state=_this.setPages(state,option.page)),option.hwlxList||option.fplxList){var slList=_this.setArr(option.slList),jsfsList=_this.setArr(option.jsfsList),fplxList=_this.setArr(option.fplxList),zsfsList=_this.setArr(option.zsfsList);if(state=_this.metaReducer.sfs(state,{"data.other.slList":(0,_immutable.fromJS)(slList),"data.other.hwlxList":(0,_immutable.fromJS)(option.hwlxList),"data.other.jsfsList":(0,_immutable.fromJS)(jsfsList),"data.other.fplxList":(0,_immutable.fromJS)(fplxList),"data.other.zsfsList":(0,_immutable.fromJS)(zsfsList)}),option.initData){var record=option.initData.record,sfdk=void 0;"authentication"==record.expropriationMethod&&(sfdk=!0),state=_this.metaReducer.sfs(state,{"data.form":(0,_immutable.fromJS)({"sl":void 0==record.sl_id?"all":record.sl_id,"hwlx":record.hwlx_idList,"jsfs":void 0==record.jsff_id?"all":record.jsff_id,"fplx":void 0==record.fplx_id?"all":record.fplx_id,"zsfs":record.expropriationMethod?record.expropriationMethod:"all","sfdk":!!sfdk||"all","kplx":option.initData.isVattaxpayer&&void 0!=record.dk?record.dk:"all"})});var skssqq=option.initData.date.skssqq,skssqz=option.initData.date.skssqz;skssqq&&skssqz&&(state=_this.metaReducer.sfs(state,{"data.form.sbsqq":(0,_immutable.fromJS)(skssqq.substring(0,7)),"data.form.sbsqz":(0,_immutable.fromJS)(skssqz.substring(0,7))})),state="authentication"==option.initData.record.expropriationMethod?_this.metaReducer.sfs(state,{"data.form.kpyf":void 0,"data.form.rzyf":(0,_immutable.fromJS)(skssqq.substring(0,7))}):_this.metaReducer.sfs(state,{"data.form.kpyf":(0,_immutable.fromJS)(skssqq.substring(0,7)),"data.form.rzyf":void 0})}}return state},this.setArr=function(arr){if(arr)return arr.splice(0,0,{"id":"all","name":"\u5168\u90e8"}),arr},this.setPages=function(state,page){return page&&(state=_this.metaReducer.sf(state,"data.page",(0,_immutable.fromJS)({"currentPage":page.currentPage,"total":page.totalCount,"pageSize":page.pageSize}))),state}},_temp);module.exports=exports["default"]},"1819":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function renderColumns(columns,list,other,_this,tabId){var Column=_edfComponent.DataGrid.Column,Cell=_edfComponent.DataGrid.Cell,cols=[],selectArr=["hwlx","jsfs","zsfs","kplx"];return columns.forEach(function(op){var col=_react2["default"].createElement(Column,{"name":op.id,"columnKey":op.fieldName,"flexGrow":op.flexGrow?1:void 0,"isResizable":!0,"width":op.width,"header":_react2["default"].createElement(Cell,{"name":"header"},op.caption),"cell":function cell(ps){return selectArr.indexOf(op.fieldName)>-1&&"\u5408\u8ba1"!=list[ps.rowIndex].xh&&"01"==tabId?_react2["default"].createElement(Cell,{"className":"selectCell"},_react2["default"].createElement(_edfComponent.Select,{"title":list[ps.rowIndex][op.fieldName_id],"value":list[ps.rowIndex][op.fieldName_id],"disabled":list[ps.rowIndex].accountStatus&&"4000140002"==list[ps.rowIndex].accountStatus||_this.selfSystemDeclare,"onChange":function onChange(value){return _this.selectValue(ps.rowIndex,value,op.fieldName)}},_this.selectOption(op.fieldName+"List","isTable"))):"sfdk"==op.fieldName&&"\u5408\u8ba1"!=list[ps.rowIndex].xh&&"02"==tabId?_react2["default"].createElement(Cell,{"className":"selectCell"},_react2["default"].createElement(_edfComponent.Select,{"title":list[ps.rowIndex][op.fieldName],"value":list[ps.rowIndex][op.fieldName],"disabled":list[ps.rowIndex].accountStatus&&"4000140002"==list[ps.rowIndex].accountStatus||_this.selfSystemDeclare,"onChange":function onChange(value){return _this.selectValue(ps.rowIndex,value,op.fieldName)}},_this.selectOption(op.fieldName+"List","isTable"))):"\u5408\u8ba1"==list[ps.rowIndex].xh?_react2["default"].createElement(Cell,{"tip":!0,"className":"total mk-datagrid-cellContent-right"},list[ps.rowIndex][op.fieldName]):_react2["default"].createElement(Cell,{"tip":!0,"className":getClassName(list[ps.rowIndex],op.idAlignType)},list[ps.rowIndex][op.fieldName])}});cols.push(col)}),cols}function getClassName(option,idAlignType){var rightName="mk-datagrid-cellContent-right";if("1000050001"==idAlignType);else{if("1000050003"==idAlignType)return rightName;if("1000050002"==idAlignType)return""}}Object.defineProperty(exports,"__esModule",{"value":!0}),exports["default"]=renderColumns;var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_edfComponent=__webpack_require__(22);_edfComponent.Select.Option;module.exports=exports["default"]},"1820":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{"value":!0});var _edfUtils=__webpack_require__(12);exports["default"]={"fpCard":{"xxfpmx":function xxfpmx(option){return _edfUtils.fetch.post("/v1/biz/core/invoiceTax/xxfpmx",option)},"jxfpmx":function jxfpmx(option){return _edfUtils.fetch.post("/v1/biz/core/invoiceTax/jxfpmx",option)},"xxfpmxUpdate":function xxfpmxUpdate(option){return _edfUtils.fetch.post("/v1/biz/core/invoiceTax/xxfpmxUpdate",option)},"jxfpmxUpdate":function jxfpmxUpdate(option){return _edfUtils.fetch.post("/v1/biz/core/invoiceTax/jxfpmxUpdate",option);
}}},module.exports=exports["default"]}});